var D=Object.defineProperty;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var b=(t,e,o)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,v=(t,e)=>{for(var o in e||(e={}))M.call(e,o)&&b(t,o,e[o]);if(f)for(var o of f(e))k.call(e,o)&&b(t,o,e[o]);return t};import{a9 as _,a5 as x,V as E}from"./js/vendor.f6bbc087.js";import{d as p,S as q}from"./js/index.0c09686e.js";import{T as O}from"./js/index.c35a2783.js";import{s as d}from"./js/index.2a722b10.js";import{k as A,m as T}from"./js/helpers.46947768.js";import{A as P}from"./js/App.66b0d493.js";import{n as $}from"./js/vueComponentNormalizer.4c221f82.js";import"./js/context.0a0c6a10.js";/* empty css                */import"./js/params.bea1a08d.js";import"./js/ToolsSettings.7cc9335c.js";import"./js/JsonValues.08065e69.js";import"./js/Index.d771a71f.js";import"./js/SettingsRow.e87657d6.js";import"./js/Row.de5121b5.js";import"./js/Checkbox.985acf88.js";import"./js/Checkmark.1b8c121b.js";import"./js/Tabs.d639cede.js";import"./js/TruSeoScore.a520926e.js";import"./js/Information.da04dcfb.js";import"./js/Slide.c8a2867c.js";import"./js/Modal.b51725b4.js";import"./js/MaxCounts.3eed5286.js";import"./js/RadioToggle.7eca84f0.js";import"./js/GoogleSearchPreview.72c7499f.js";import"./js/HtmlTagsEditor.70cb327f.js";import"./js/Editor.aa430cd0.js";import"./js/UnfilteredHtml.9dfe648c.js";import"./js/Tooltip.b5773cff.js";import"./js/QuestionMark.4dbc0d97.js";import"./js/Mobile.46214f86.js";import"./js/Pencil.d0705f77.js";import"./js/Trash.12a3da09.js";import"./js/Plus.4a10b727.js";import"./js/Close.952d41b7.js";import"./js/popup.25df8419.js";import"./js/Index.0bea3b6a.js";import"./js/Table.a478865a.js";import"./js/Affiliate.b51491f4.js";import"./js/Blur.4b173825.js";import"./js/Index.3946845a.js";import"./js/Img.bb1ffd57.js";import"./js/FacebookPreview.eb9fa696.js";import"./js/dannie-profile.41545edf.js";import"./js/TwitterPreview.eddc0b01.js";import"./js/Book.356288e0.js";import"./js/Build.a7338f94.js";import"./js/Redirects.97854774.js";import"./js/ProBadge.53877254.js";import"./js/External.c6f0b2ea.js";import"./js/Exclamation.32e01d31.js";import"./js/Gear.c545cf72.js";import"./js/Card.75bef818.js";import"./js/Textarea.036e8a43.js";import"./js/Datepicker.04e36d8c.js";import"./js/LicenseKeyBar.874ca635.js";import"./js/LogoGear.2daf1a8e.js";const w=t=>t.parentElement.removeChild(t),B=()=>{const t=u();document.body.classList.toggle("aioseo-settings-bar-is-active",t),document.body.classList.toggle("aioseo-settings-bar-is-inactive",!t)},R=()=>{const t=g();r(document.body,"aioseo-settings-bar-is"),document.body.classList.add(`aioseo-settings-bar-is-${t}`),m(t)},F=()=>{c.addEventListener("change",()=>{C(),m(g())}),z.observe(document.querySelector(".et-fb-page-settings-bar"),{attributeFilter:["class"]}),document.body.addEventListener("click",N),s.addEventListener("click",()=>{const t=new Event("aioseo-divi-toggle-modal");document.dispatchEvent(t)})},U=()=>{const t=g();r(document.body,"aioseo-settings-bar-is"),document.body.classList.add(`aioseo-settings-bar-is-${t}`),B(),C(),Y()||m(t)},C=()=>{!L()||(s=w(s))},m=t=>{if(L())return;const e=document.querySelector(".et-fb-page-settings-bar"),o=e.querySelector(".et-fb-page-settings-bar__toggle-button"),n=e.querySelectorAll(".et-fb-page-settings-bar__column");if(j(t),u())if(c.matches){const i=[...n].filter(l=>l.classList.contains("et-fb-page-settings-bar__column--main"));i.length&&i[0].appendChild(s)}else{const i=[...n].filter(l=>l.classList.contains("et-fb-page-settings-bar__column--left"));i.length&&i[0].insertBefore(s)}else o.insertAdjacentElement("afterend",s)},j=t=>{r(s,"aioseo-settings-bar-root"),s.classList.add(`aioseo-settings-bar-root-${t}`),r(s,"aioseo-settings-bar-root-is-mobile"),["aioseo-settings-bar-root-is-mobile",`aioseo-settings-bar-root-is-mobile-${t}`].forEach(n=>{s.classList.toggle(n,!c.matches)}),r(s,"aioseo-settings-bar-root-is-desktop"),["aioseo-settings-bar-root-is-desktop",`aioseo-settings-bar-root-is-desktop-${t}`].forEach(n=>{s.classList.toggle(n,c.matches)})},r=(t,e)=>{const o=[`${e}-left`,`${e}-right`,`${e}-top`,`${e}-top-left`,`${e}-top-right`,`${e}-bottom`,`${e}-bottom-left`,`${e}-bottom-right`];t.classList.remove(...o)},g=()=>{const t=document.querySelector(".et-fb-page-settings-bar").classList;return t.contains("et-fb-page-settings-bar--horizontal")&&!t.contains("et-fb-page-settings-bar--top")?"bottom":t.contains("et-fb-page-settings-bar--top")&&!t.contains("et-fb-page-settings-bar--corner")?"top":t.contains("et-fb-page-settings-bar--bottom-corner")?t.contains("et-fb-page-settings-bar--left-corner")?"bottom-left":"bottom-right":t.contains("et-fb-page-settings-bar--top-corner")?t.contains("et-fb-page-settings-bar--left-corner")?"top-left":"top-right":t.contains("et-fb-page-settings-bar--vertical--right")?"right":t.contains("et-fb-page-settings-bar--vertical--left")?"left":""},N=t=>{if(!X())return;const e=t.target,o=".aioseo-modal",n=".aioseo-app.post-settings-modal";if(!e.closest(o)&&!e.closest(n)&&!(e!==document.querySelector(o)&&e.contains(document.querySelector(o)))&&e!==s){const i=new Event("aioseo-divi-toggle-modal",{open:!1});document.dispatchEvent(i)}},X=()=>!document.querySelector(".aioseo-modal").classList.contains("aioseo-modal-is-closed"),L=()=>document.documentElement!==s&&document.documentElement.contains(s),u=()=>document.querySelector(".et-fb-page-settings-bar").classList.contains("et-fb-page-settings-bar--active"),Y=()=>document.querySelector(".et-fb-page-settings-bar").classList.contains("et-fb-page-settings-bar--dragged")&&!u(),c=window.matchMedia("(min-width: 768px)"),z=new MutationObserver(U),V="#aioseo-settings";let s=document.querySelector(V);s=w(s);var Q=()=>{B(),R(),F()};let h={};const a=()=>{const t=v({},h),e=A();x(t,e)||(h=e,T())},W=()=>{d.dispatch("saveCurrentPost",d.state.currentPost)};var G=()=>{a(),window.addEventListener("message",t=>{t.data.eventType==="et_fb_section_content_change"&&p(a,1e3)}),window.wp&&window.wp.hooks.addFilter("et.builder.store.setting.update","aioseo",(t,e)=>{if(t)switch(e){case"et_pb_post_settings_title":_(ETBuilderBackendDynamic,"postTitle",t),p(a,1e3);break;case"et_pb_post_settings_excerpt":_(ETBuilderBackendDynamic,"postMeta.post_excerpt",t),p(a,1e3);break}return t}),document.querySelector(".et-fb-button--save-draft, .et-fb-button--publish").addEventListener("click",W)},H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"aioseo-draggable"},[t.completelyDraggable?o("div",{on:{dragMouseDown:t.dragMouseDown}},[t._t("default")],2):t._e(),t.completelyDraggable?t._e():o("div",[t._t("default")],2)])},I=[];const J={props:{completelyDraggable:{type:Boolean,default(){return!0}}},data(){return{position1:0,position2:0,position3:0,position4:0}},methods:{dragMouseDown(t){t=t||window.event,t.preventDefault(),this.position3=t.clientX,this.position4=t.clientY,document.onmousemove=this.elementDrag,document.onmouseup=this.closeDragElement},elementDrag(t){t=t||window.event,t.preventDefault(),this.position1=this.position3-t.clientX,this.position2=this.position4-t.clientY,this.position3=t.clientX,this.position4=t.clientY,this.$el.style.top=this.$el.offsetTop-this.position2+"px",this.$el.style.left=this.$el.offsetLeft-this.position1+"px"},closeDragElement(){document.onmouseup=null,document.onmousemove=null}}},y={};var K=$(J,H,I,!1,Z,null,null,null);function Z(t){for(let e in y)this[e]=y[e]}var tt=function(){return K.exports}(),et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("util-draggable",{ref:"modal-container",attrs:{completelyDraggable:!1}},[o("div",{staticClass:"aioseo-modal",class:{"aioseo-modal-is-closed":!t.isOpen}},[o("div",{staticClass:"aioseo-modal-header",on:{mousedown:function(n){return n.preventDefault(),function(i){return t.$refs["modal-container"].dragMouseDown(i)}.apply(null,arguments)}}},[o("div",{staticClass:"aioseo-modal-header-title"},[t._v(t._s(t.strings.header))]),o("div",{staticClass:"aioseo-modal-header-close",on:{click:function(n){t.isOpen=!1}}},[o("svg-close")],1)]),o("div",{staticClass:"aioseo-modal-body edit-post-sidebar"},[o("PostSettings")],1)])])},ot=[];const st={components:{PostSettings:P,SvgClose:q,UtilDraggable:tt},data(){return{isOpen:!1,strings:{header:this.$t.sprintf("%1$s settings","All in One SEO")}}},methods:{openModal(){this.isOpen=!0}},beforeUnmount(){document.removeEventListener("aioseo-divi-toggle-modal",this.openModal)},mounted(){this.$nextTick(function(){document.addEventListener("aioseo-divi-toggle-modal",this.openModal)})}},S={};var nt=$(st,et,ot,!1,it,null,null,null);function it(t){for(let e in S)this[e]=S[e]}var rt=function(){return nt.exports}();E.prototype.$truSEO=new O;const at=()=>{new E({store:d,data:{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"},render:t=>t(rt)}).$mount("#aioseo-app-modal > div")},ct=()=>{Q(),at(),G()};window.addEventListener("message",function(t){t.data.eventType==="et_builder_api_ready"&&ct()});
