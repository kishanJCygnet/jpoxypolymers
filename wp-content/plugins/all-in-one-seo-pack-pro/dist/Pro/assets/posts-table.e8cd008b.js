var E=Object.defineProperty;var l=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var c=(t,e,s)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,a=(t,e)=>{for(var s in e||(e={}))x.call(e,s)&&c(t,s,e[s]);if(l)for(var s of l(e))I.call(e,s)&&c(t,s,e[s]);return t};import{n,V as r}from"./js/vueComponentNormalizer.87056a83.js";import{c as v}from"./js/index.7c8bddbb.js";import{T as b}from"./js/index.d3bead9c.js";import{e as g}from"./js/elemLoaded.b1f6e29c.js";import{a as f,e as $,g as w,m as o,s as T}from"./js/index.9b64eb46.js";import{T as k}from"./js/ToolsSettings.78d1d300.js";import{c as S,t as N}from"./js/helpers.a60eef6a.js";import{T as C}from"./js/TruSeoScore.98a47fd6.js";import{S as P}from"./js/Close.5e7bcb70.js";import{S as A,a as q,b as L,c as M}from"./js/Affiliate.22291be4.js";import"./js/client.94d919c5.js";import"./js/_commonjsHelpers.f40d732e.js";import"./js/constants.81bd140d.js";import"./js/isArrayLikeObject.86537e3d.js";import"./js/default-i18n.abde8d59.js";import"./js/Modal.09e9b873.js";import"./js/cleanForSlug.5d2420e9.js";var j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aioseo-score-button",class:t.scoreClass,attrs:{id:t.getId}},[t._v(" "+t._s(this.score===0?"N/A":this.score+"/100")+" ")])},O=[];const R={props:{score:{type:Number,default(){return 0}},postId:{type:Number,default(){return 0}}},computed:{scoreClass:function(){return 80<this.score?"score-green":50<this.score?"score-orange":1<this.score?"score-red":"score-disabled"},getId:function(){return`score-button-${this.postId}`}}},d={};var U=n(R,j,O,!1,B,null,null,null);function B(t){for(let e in d)this[e]=d[e]}var F=function(){return U.exports}(),H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}},[s("div",[this.$root._data.screen.base==="edit"&&t.showTruSeo&&this.$allowed("aioseo_page_analysis")&&!t.isSpecialPage?s("div",{staticClass:"edit-row"},[s("core-score-button",{attrs:{score:this.post.value,postId:t.postId}})],1):t._e(),this.$allowed("aioseo_page_general_settings")?s("div",{staticClass:"edit-row edit-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.title)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.titleParsed,100))}})]):t._e(),t.showEditTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(i){i.target.composing||(t.title=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$allowed("aioseo_page_general_settings")?s("div",{staticClass:"edit-row edit-description"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editDescription.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.description)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.descriptionParsed))}})]):t._e(),t.showEditDescription?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postDescription,expression:"postDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.postDescription},on:{input:function(i){i.target.composing||(t.postDescription=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),t._t("default"),this.$root._data.screen.base==="upload"&&t.post.showMedia?s("div",{staticClass:"edit-row edit-image-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editImageTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.imageTitle)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.imageTitle)}})]):t._e(),t.showEditImageTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageTitle,expression:"imageTitle"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageTitle},on:{input:function(i){i.target.composing||(t.imageTitle=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.saveImage.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$root._data.screen.base==="upload"&&t.post.showMedia?s("div",{staticClass:"edit-row edit-image-alt"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editImageAlt.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.imageAltTag)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.imageAltTag)}})]):t._e(),t.showEditImageAltTag?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageAltTag,expression:"imageAltTag"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageAltTag},on:{input:function(i){i.target.composing||(t.imageAltTag=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.saveImage.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()],2)])},z=[];const V={components:{CoreScoreButton:F,SvgCircleCheck:v,SvgCircleClose:P},mixins:[k,C],props:{post:Object,index:Number},data(){return{postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,strings:{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),imageTitle:this.$t.__("Image Title:",this.$td),imageAltTag:this.$t.__("Image Alt Tag:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)}}},computed:a({},f(["options","currentPost"])),methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(t=>{this.titleParsed=t.body.title,this.descriptionParsed=t.body.description,this.post.titleParsed=t.body.title,this.post.descriptionParsed=t.body.description;const e=window.aioseo.posts;e[this.index]=this.post,$({posts:e}),this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(t=>{console.error(`Unable to update post with ID ${this.post.id}: ${t}`)})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(t=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${t}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},updatePostTitle(t,e){const s=document.getElementById(`post-${t}`);if(!s)return;const i=s.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!i)return;const D=i.getElementsByTagName("span")[0];i.innerText=e,i.prepend(D)}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed},async created(){const{options:t,currentPost:e,tags:s}=await w(this.$http);this.$set(this.$store.state,"options",o(a({},this.$store.state.options),a({},t))),this.$set(this.$store.state,"currentPost",o(a({},this.$store.state.currentPost),a({},e))),this.$set(this.$store.state,"tags",o(a({},this.$store.state.tags),a({},s))),this.showTruSeo=S()}},u={};var G=n(V,H,z,!1,J,null,null,null);function J(t){for(let e in u)this[e]=u[e]}var y=function(){return G.exports}(),K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-post-column",{attrs:{post:t.post,index:t.index}},[[t.post.linkCounts&&t.post.postType!=="attachment"?s("div",{staticClass:"links"},[s("strong",{staticClass:"header"},[t._v(t._s(t.strings.links))]),s("span",[s("svg-link-internal-inbound"),t._v(t._s(t.post.linkCounts.inboundInternal))],1),s("span",[s("svg-link-internal-outbound"),t._v(t._s(t.post.linkCounts.outboundInternal))],1),s("span",[s("svg-link-affiliate"),t._v(t._s(t.post.linkCounts.affiliate))],1),s("span",[s("svg-link-external"),t._v(t._s(t.post.linkCounts.external))],1)]):t._e()]],2)},Q=[];const W={components:{CorePostColumn:y,SvgLinkAffiliate:A,SvgLinkExternal:q,SvgLinkInternalInbound:L,SvgLinkInternalOutbound:M},props:{post:Object,index:Number},data(){return{strings:{links:this.$t.__("Links:",this.$tdPro)}}}},p={};var X=n(W,K,Q,!1,Y,null,null,null);function Y(t){for(let e in p)this[e]=p[e]}var Z=function(){return X.exports}(),tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-post-column",{attrs:{post:t.post,index:t.index}})},st=[];const et={components:{CorePostColumn:y},props:{post:Object,index:Number}},h={};var it=n(et,tt,st,!1,at,null,null,null);function at(t){for(let e in h)this[e]=h[e]}var ot=function(){return it.exports}(),nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.$isPro?s("PostColumn",{attrs:{post:t.post,index:t.index}}):t._e(),t.$isPro?t._e():s("PostColumnLite",{attrs:{post:t.post,index:t.index}})],1)},rt=[];const lt={components:{PostColumn:Z,PostColumnLite:ot},props:{post:Object,index:Number}},m={};var ct=n(lt,nt,rt,!1,dt,null,null,null);function dt(t){for(let e in m)this[e]=m[e]}var ut=function(){return ct.exports}(),pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription}},[s("div",[s("div",{staticClass:"edit-row edit-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.title)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.termId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.titleParsed,100))}})]),t.showEditTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(i){i.target.composing||(t.title=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),s("div",{staticClass:"edit-row edit-description"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(i){return i.preventDefault(),t.editDescription.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.description)+" ")]),s("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.termId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.descriptionParsed))}})]),t.showEditDescription?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.termDescription,expression:"termDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.termDescription},on:{input:function(i){i.target.composing||(t.termDescription=i.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(i){return i.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(i){return i.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()])])},ht=[];const mt={components:{SvgCircleCheck:v,SvgCircleClose:P},mixins:[k,C],props:{term:Object,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,strings:{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)}}},computed:a({},f(["options","currentPost"])),methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.$http.post(this.$links.restUrl("termscreen")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(t=>{this.titleParsed=t.body.title,this.descriptionParsed=t.body.description,this.term.titleParsed=t.body.title,this.term.descriptionParsed=t.body.description;const e=window.aioseo.terms;e[this.index]=this.term,$({terms:e})}).catch(t=>{console.error(`Unable to update term with ID ${this.term.id}: ${t}`)})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0}},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed},async created(){const{options:t,currentPost:e,tags:s}=await w(this.$http);this.$set(this.$store.state,"options",o(a({},this.$store.state.options),a({},t))),this.$set(this.$store.state,"currentPost",o(a({},this.$store.state.currentPost),a({},e))),this.$set(this.$store.state,"tags",o(a({},this.$store.state.tags),a({},s))),this.showTruSeo=N()}},_={};var _t=n(mt,pt,ht,!1,vt,null,null,null);function vt(t){for(let e in _)this[e]=_[e]}var gt=function(){return _t.exports}();r.prototype.$truSeo=new b;const ft=(t,e)=>{new r({store:T,data:{screen:window.aioseo.screen},render:s=>s(ut,{props:{post:t,index:e}})}).$mount(`#${t.columnName}-${t.id}`)};window.aioseo.posts&&window.aioseo.posts.forEach((t,e)=>{g(`#${t.columnName}-${t.id}`,`aioseoPostsTable-${t.id}`),document.addEventListener("animationstart",function(s){`aioseoPostsTable-${t.id}`===s.animationName&&ft(t,e)},{passive:!0})});const $t=(t,e)=>{new r({store:T,data:{screen:window.aioseo.screen},render:s=>s(gt,{props:{term:t,index:e}})}).$mount(`#${t.columnName}-${t.id}`)};window.aioseo.terms&&window.aioseo.posts.length===0&&window.aioseo.terms.forEach((t,e)=>{g(`#${t.columnName}-${t.id}`,`aioseoTermsTable-${t.id}`),document.addEventListener("animationstart",function(s){`aioseoTermsTable-${t.id}`===s.animationName&&$t(t,e)},{passive:!0})});
