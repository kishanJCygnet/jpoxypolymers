var z=Object.defineProperty,U=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var R=(t,i,s)=>i in t?z(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,a=(t,i)=>{for(var s in i||(i={}))G.call(i,s)&&R(t,s,i[s]);if(y)for(var s of y(i))V.call(i,s)&&R(t,s,i[s]);return t},l=(t,i)=>U(t,H(i));import"./ToolsSettings.d33ae322.js";import{a as d,d as c,c as h,b as C}from"./index.6b238922.js";import"./context.04ada340.js";import{R as J,a as W}from"./RequiresUpdate.de27511e.js";import{n as p}from"./vueComponentNormalizer.87056a83.js";import{C as Q}from"./Index.20370f5c.js";import{C as m}from"./Table.6d0adc12.js";import{f,g as X,P as k,L as D,a as F,b as M,c as O,d as B,S as v,e as K}from"./Index.df999252.js";import{C as E}from"./Tooltip.3ec20ff5.js";import{S as Z}from"./Trash.214b5744.js";import{b as q}from"./index.621c7f0d.js";import{S as tt}from"./File.f647fe1b.js";import{a as g,S as b,b as _,c as w}from"./Affiliate.22291be4.js";import{C as Y}from"./Tabs.3d87a410.js";import{S as N}from"./Refresh.c697ed05.js";import st from"./Overview.d46a112a.js";import{J as et}from"./JsonValues.08065e69.js";import{B as it}from"./Checkbox.5873a8d2.js";import{B as nt}from"./Textarea.d161fc2e.js";import{C as ot}from"./Card.56d6b098.js";import{C as at}from"./ExcludePosts.401507ab.js";import{B as rt}from"./HighlightToggle.47bdd2a8.js";import{C as lt}from"./Index.021930ae.js";import{G as ut,a as pt}from"./Row.13b6f3f1.js";import{C as dt}from"./PostTypeOptions.f41bdb7d.js";import{C as ct}from"./SettingsRow.eb71f07b.js";import"./default-i18n.abde8d59.js";import"./isArrayLikeObject.86537e3d.js";import"./RequiresUpdate.1db018cd.js";/* empty css             */import"./params.bea1a08d.js";import"./Header.0aac24e3.js";import"./LicenseKeyBar.850cb053.js";import"./LogoGear.0c3dd5e3.js";import"./AnimatedNumber.b6059bfd.js";import"./Logo.1a5e022a.js";import"./QuestionMark.83ebd18e.js";import"./Support.b1f25bbd.js";import"./Close.5e7bcb70.js";import"./Exclamation.356738ce.js";import"./Url.781a1d48.js";import"./Gear.c974e953.js";import"./Slide.f5d21606.js";import"./Modal.d9bbc93c.js";import"./Editor.627883d5.js";import"./_commonjsHelpers.f40d732e.js";import"./Pencil.d547ebca.js";import"./Plus.a9b9ba75.js";import"./client.94d919c5.js";import"./constants.feea4720.js";import"./TruSeoScore.4bc8e535.js";import"./Information.f4b75b56.js";import"./Blur.8490ecd2.js";import"./DonutChartWithLegend.fe87aad2.js";import"./SeoSiteScore.8753b911.js";import"./Row.b5e5f12f.js";import"./Index.7868e16c.js";import"./Checkmark.e7547654.js";import"./AddPlus.f69ce757.js";import"./External.8868c638.js";import"./Radio.99a9886d.js";var ht=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"domains-report-inner"},[s("core-wp-table",{key:t.tableKey,staticClass:"link-assistant-inner-table",attrs:{columns:t.columns,rows:t.rows,totals:t.rows[0].totals,"bulk-options":t.bulkOptions,loading:t.wpTableLoading,showSearch:!1,showPagination:t.shouldShowPagination,showTableFooter:!1,initialPageNumber:t.initialPageNumber},on:{"process-bulk-action":t.maybeDoBulkAction,paginate:t.processPagination},scopedSlots:t._u([{key:"post_title",fn:function(e){var n=e.row;return[s("strong",[s("a",{staticClass:"edit-link",attrs:{href:n.context.permalink,target:"_blank"}},[t._v(t._s(n.context.postTitle))])]),s("div",{staticClass:"row-actions"},[s("span",{staticClass:"view"},[s("a",{attrs:{href:n.context.permalink,target:"_blank"}},[t._v(t._s(t.viewPost(n.context.postType.singular)))]),t._v(" | ")]),s("span",{staticClass:"edit"},[s("a",{attrs:{href:n.context.editLink,target:"_blank"}},[t._v(t._s(t.editPost(n.context.postType.singular)))])])])]}},{key:"phrases",fn:function(e){var n=e.row,o=e.index;return[s("link-assistant-editable-phrase",{attrs:{row:n,rowIndex:o,activeRow:t.activePost,domainsReport:""},on:{delete:t.deleteLink,toggleShowMorePhrases:t.toggleShowMorePhrases,saveModifiedPhrase:t.saveModifiedPhrase}})]}},{key:"publish_date",fn:function(e){var n=e.row;return[s("span",{staticClass:"date"},[t._v(t._s(t.$moment.utc(n.context.publishDate).tz(t.$moment.tz.guess()).format("MMMM D, YYYY")))])]}},{key:"delete",fn:function(e){var n=e.index;return[s("core-tooltip",{attrs:{type:"action"},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.strings.delete)+" ")]},proxy:!0}],null,!0)},[s("svg-trash",{nativeOn:{click:function(o){return t.maybeDoBulkAction({action:"delete",selectedRows:[n]})}}})],1)]}}])}),s("link-assistant-confirmation-modal",{attrs:{strings:t.modalStrings,showModal:t.showModal,selectedRows:t.selectedRows},on:{doBulkAction:t.doBulkAction,closeModal:function(e){t.showModal=!1}}})],1)},gt=[];const mt={components:{CoreTooltip:E,CoreWpTable:m,LinkAssistantConfirmationModal:f,LinkAssistantEditablePhrase:X,SvgTrash:Z},mixins:[k],props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{tableKey:0,activePost:-1,wpTableLoading:!1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:"Delete",value:"delete"}],strings:{delete:"Delete"},modalStrings:{areYouSureSingle:"Are you sure you want to delete these links for this domain?",areYouSureMultiple:"Are you sure you want to delete these links for this domain?",areYouSureAll:"Are you sure you want to delete all links for this domain?",actionCannotBeUndone:"This action cannot be undone.",yesSingle:"Yes, I want to delete these links",yesMultiple:"Yes, I want to delete these links",yesAll:"Yes, I want to delete all links",noChangedMind:"No, I changed my mind"}}},computed:l(a({},d(["linkAssistant"])),{columns(){return[{slug:"post_title",label:"Post Title"},{slug:"phrases",label:"Phrases with Links"},{slug:"publish_date",label:"Publish Date",width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){return 1<this.rows[0].totals.pages},initialPageNumber(){if(this.linkAssistant.domainsReport.innerPagination===void 0||this.linkAssistant.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistant.domainsReport.innerPagination[this.domain];return t||1}}),methods:l(a(a({},c("linkAssistant",["domainsReportInnerBulk","domainsReportInnerPaginate","domainsReportInnerLinkDelete","domainsReportInnerLinkUpdate"])),h("linkAssistant",["setDomainsReportInnerPaginatedPage"])),{toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:i}){this.wpTableLoading=!0,this.domainsReportInnerLinkDelete({searchTerm:this.linkAssistant.domainsReport.tableFields.searchTerm,rows:this.rows,postIndex:t,linkIndex:i}).then(()=>{this.tableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1})},saveModifiedPhrase(t){if(!this.linkAssistant.domainsReport.rows[this.activeDomain])return;const i=Object.keys(this.linkAssistant.domainsReport.rows[this.activeDomain])[0];!i||!this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex]||!this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex]||this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.domainsReportInnerLinkUpdate({domainIndex:this.activeDomain,domain:i,link:this.linkAssistant.domainsReport.rows[this.activeDomain][i][t.postIndex].links[t.phraseIndex]}).then(()=>{this.tableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:i}){!t||!i.length||(this.action=t,this.selectedRows=i,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.domainsReportInnerBulk({searchTerm:this.linkAssistant.domainsReport.tableFields.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows}).then(()=>{this.tableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1})},processPagination(t){this.setDomainsReportInnerPaginatedPage({domain:this.domain,page:t}),this.wpTableLoading=!0,this.domainsReportInnerPaginate({domainIndex:this.activeDomain,domain:this.domain,page:t}).then(()=>{this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1})}})},x={};var ft=p(mt,ht,gt,!1,kt,null,null,null);function kt(t){for(let i in x)this[i]=x[i]}var vt=function(){return ft.exports}(),bt=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-link-assistant-domains-report"},[s("core-wp-table",{key:t.tableKey,ref:"table",attrs:{columns:t.columns,rows:t.linkAssistant.domainsReport.rows,totals:t.linkAssistant.domainsReport.totals,"bulk-options":t.bulkOptions,loading:t.wpTableLoading,initialPageNumber:t.linkAssistant.domainsReport.tableFields.paginatedPage,initialSearchTerm:t.linkAssistant.domainsReport.tableFields.searchTerm},on:{"process-bulk-action":t.maybeDoBulkAction,paginate:t.processPagination,search:t.processSearch},scopedSlots:t._u([{key:"domain",fn:function(e){var n=e.row,o=e.index,r=e.editRow;return[s("div",{staticClass:"domain-name"},[s("a",{class:{active:t.isRowActive(o)},attrs:{href:"#"},on:{click:function(u){r(o),t.toggleRow(o)}}},[s("img",{staticClass:"favicon",attrs:{alt:"Domain Favicon",src:"https://www.google.com/s2/favicons?sz=32&domain="+Object.keys(n)[0]}}),s("span",[t._v(" "+t._s(Object.keys(n)[0])+" ")])])]),s("div",{staticClass:"row-actions"},[s("span",[s("a",{staticClass:"view",attrs:{href:"https://"+Object.keys(n)[0],target:"_blank"}},[s("span",[t._v(t._s(t.strings.view))])]),t._v(" | ")]),s("span",[s("a",{staticClass:"delete-all-links",attrs:{href:"#"},on:{click:function(u){return u.preventDefault(),t.maybeDoBulkAction({action:"delete",selectedRows:o})}}},[s("span",[t._v(t._s(t.strings.deleteAllLinks))])])])])]}},{key:"posts",fn:function(e){var n=e.row;return[s("svg-file"),s("span",[t._v(t._s(t.$numbers.numberFormat(t.postCount(n))))])]}},{key:"links",fn:function(e){var n=e.row;return[s("svg-link-external"),s("span",[t._v(t._s(t.$numbers.numberFormat(t.linkCount(n))))])]}},{key:"toggle-button",fn:function(e){var n=e.index,o=e.editRow;return[s("button",{staticClass:"toggle-row-button",class:{active:t.isRowActive(n)},on:{click:function(r){o(n),t.toggleRow(n)}}},[s("svg-caret")],1)]}},{key:"edit-row",fn:function(e){var n=e.row;return[s("DomainsReportInner",{key:t.innerTableKey,attrs:{domain:t.getInnerDomain(n),rows:t.getInnerDomainRows(n),activeDomain:t.activeRow},on:{updated:function(o){t.innerTableKey++}}})]}}])}),s("link-assistant-confirmation-modal",{attrs:{strings:t.modalStrings,showModal:t.showModal,selectedRows:t.selectedRows},on:{doBulkAction:t.doBulkAction,closeModal:function(e){t.showModal=!1}}})],1)},_t=[];const wt={components:{CoreWpTable:m,DomainsReportInner:vt,LinkAssistantConfirmationModal:f,SvgCaret:q,SvgFile:tt,SvgLinkExternal:g},beforeMount(){!this.$route.query||(this.$route.query.hostname&&(this.linkAssistant.domainsReport.tableFields.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.linkAssistant.domainsReport.tableFields.searchTerm="",this.processPagination(1)))},data(){return{tableKey:0,innerTableKey:0,activeRow:-1,wpTableLoading:!1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:"Delete",value:"delete"}],strings:{view:"View",deleteAllLinks:"Delete All Links"},modalStrings:{areYouSureSingle:"Are you sure you want to delete all links for this domain?",areYouSureMultiple:"Are you sure you want to delete all links for these domains?",areYouSureAll:"Are you sure you want to delete all links for all domains?",actionCannotBeUndone:"This action cannot be undone.",yesSingle:"Yes, I want to delete this link",yesMultiple:"Yes, I want to delete these links",yesAll:"Yes, I want to delete all links",noChangedMind:"No, I changed my mind"}}},computed:l(a({},d(["linkAssistant"])),{innerRows(){return this.linkAssistant.domainsReport.rows},columns(){return[{slug:"domain",label:"Domain"},{slug:"posts",label:"Posts",width:"90px"},{slug:"links",label:"Links",width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}}),methods:l(a(a({},c("linkAssistant",["domainsReportPaginate","domainsReportBulk","domainsReportSearch"])),h("linkAssistant",["setPaginatedPage"])),{postCount(t){const i=Object.keys(t)[0];return t[i][0].totals.total},linkCount(t){const i=Object.keys(t)[0];return t[i][0].totals.totalLinks},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:i}){i===!1||!t||(this.action=t,this.selectedRows=i,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.domainsReportBulk({action:this.action,searchTerm:this.linkAssistant.domainsReport.tableFields.searchTerm,rowIndexes:this.selectedRows}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},processPagination(t){this.setPaginatedPage({group:"domainsReport",page:t}),this.wpTableLoading=!0,this.domainsReportPaginate({page:t,searchTerm:this.linkAssistant.domainsReport.tableFields.searchTerm}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},processSearch(t){this.wpTableLoading=!0,this.linkAssistant.domainsReport.tableFields.searchTerm=t,this.domainsReportSearch({searchTerm:t,page:1}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]}})},$={};var yt=p(wt,bt,_t,!1,Rt,null,null,null);function Rt(t){for(let i in $)this[i]=$[i]}var xt=function(){return yt.exports}(),j={computed:l(a({},d(["linkAssistant"])),{isPrioritizedPost(){let t=this.linkAssistant.linksReport.prioritizedPosts;return Array.isArray(t)&&(t=t.map(Number)),t.includes(parseInt(this.post.ID))}}),methods:l(a({},c("linkAssistant",["linksRefresh"])),{doRefresh(){this.refreshLoading=!0,this.$bus.$emit("updatingLinks",!0),this.linksRefresh({postIndex:this.postIndex,postId:this.post.ID,linksReport:!0}).finally(()=>{this.refreshLoading=!1,this.$bus.$emit("updatingLinks",!1)})}})},$t=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"links-report-inner"},[s("core-main-tabs",{key:t.tabsKey,staticClass:"link-tabs",attrs:{internal:"",tabs:t.tabs,active:t.activeTab},on:{changed:function(e){return t.processChangeTab(e)}},scopedSlots:t._u([{key:"md-tab-icon",fn:function(e){var n=e.tab;return[s(n.icon,{tag:"component",class:[{warning:n.data.warning}]})]}},{key:"button",fn:function(){return[s("base-button",{staticClass:"button-refresh",attrs:{type:"gray",size:"medium",loading:t.refreshLoading,disabled:t.isPrioritizedPost},on:{click:t.doRefresh}},[s("svg-refresh"),t._v(" "+t._s(t.strings.refresh)+" ")],1)]},proxy:!0}])}),t.activeTab==="outbound-internal"?s("link-assistant-outbound-internal",{attrs:{post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:""},on:{openSuggestions:function(e){return t.processChangeTab("link-suggestions","suggestions-outbound")},linksUpdated:function(e){t.tabsKey++}}}):t._e(),t.activeTab==="inbound-internal"?s("link-assistant-inbound-internal",{attrs:{post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:""},on:{openSuggestions:function(e){return t.processChangeTab("link-suggestions","suggestions-inbound")},linksUpdated:function(e){t.tabsKey++}}}):t._e(),t.activeTab==="affiliate"?s("link-assistant-affiliate",{attrs:{post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:""},on:{linksUpdated:function(e){t.tabsKey++}}}):t._e(),t.activeTab==="external"?s("link-assistant-external",{attrs:{post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:""},on:{linksUpdated:function(e){t.tabsKey++}}}):t._e(),t.activeTab==="link-suggestions"?s("link-assistant-suggestions",{attrs:{post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(t.post),initialTab:t.activeSuggestionTab,linksReport:""},on:{showStandalone:function(e){t.showStandalone=!0},suggestionsTabChanged:function(e){return t.activeSuggestionTab=e},linksUpdated:function(e){t.tabsKey++}}}):t._e()],1)},At=[];const It={components:{CoreMainTabs:Y,LinkAssistantAffiliate:D,LinkAssistantExternal:F,LinkAssistantInboundInternal:M,LinkAssistantOutboundInternal:O,LinkAssistantSuggestions:B,SvgLinkAffiliate:b,SvgLinkExternal:g,SvgLinkInternalInbound:_,SvgLinkInternalOutbound:w,SvgLinkSuggestion:v,SvgRefresh:N},mixins:[K,j],props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},data(){return{tabsKey:0,activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,strings:{refresh:"Refresh"}}},computed:l(a({},C("linkAssistant",["getLinksReportCounts"])),{tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].inboundInternal,"Inbound Internal")},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].outboundInternal,"Outbound Internal")},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].affiliate,"Affiliate")},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].external,"External")},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.getLinksReportCounts[this.postIndex].suggestionsOutbound+this.getLinksReportCounts[this.postIndex].suggestionsInbound,"Link Suggestions")}]}}),methods:{processChangeTab(t,i){this.activeTab=t,i&&(this.activeSuggestionTab=i)}},mounted(){this.initialActiveTab&&this.$nextTick(()=>{this.processChangeTab(this.initialActiveTab)})}},A={};var Tt=p(It,$t,At,!1,St,null,null,null);function St(t){for(let i in A)this[i]=A[i]}var Pt=function(){return Tt.exports}(),Lt=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-link-assistant-links-report"},[s("core-wp-table",{key:t.tableKey,ref:"table",staticClass:"posts-table",attrs:{columns:t.columns,rows:t.linksReport.rows,totals:t.linksReport.totals,filters:t.linksReport.filters,"additional-filters":t.additionalFilters,loading:t.wpTableLoading,initialPageNumber:t.linksReport.tableFields.paginatedPage,initialSearchTerm:t.linksReport.tableFields.searchTerm,showBulkActions:!1},on:{"filter-table":t.processFilter,"additional-filter-option-selected":t.processAdditionaFilterOptionSelected,"process-additional-filters":t.processAdditionalFilters,paginate:t.processPagination,search:t.processSearch},scopedSlots:t._u([{key:"post_title",fn:function(e){var n=e.row,o=e.index,r=e.editRow;return[s("div",{staticClass:"post-title"},[s("a",{class:{active:t.isRowActive(o)},attrs:{href:"#"},on:{click:function(u){r(o),t.toggleRow(o)}}},[t._v(" "+t._s(n.post_title)+" ")])]),s("div",{staticClass:"row-actions"},[s("span",[s("a",{staticClass:"view",attrs:{href:n.context.permalink,target:"_blank"}},[s("span",[t._v(t._s(t.viewPost(n.context.postType.singular)))])]),t._v(" | ")]),s("span",[s("a",{staticClass:"edit",attrs:{href:n.context.editLink,target:"_blank"}},[s("span",[t._v(t._s(t.editPost(n.context.postType.singular)))])]),t._v(" | ")]),s("span",[s("a",{staticClass:"delete-all-links",attrs:{href:"#"},on:{click:function(u){return u.preventDefault(),t.maybeDeleteAllLinks(o)}}},[s("span",[t._v(t._s(t.strings.deleteAllLinks))])])])])]}},{key:"publish_date",fn:function(e){var n=e.row;return[s("span",{staticClass:"date"},[t._v(t._s(t.$moment.utc(n.post_date).tz(t.$moment.tz.guess()).format("MMMM D, YYYY")))])]}},{key:"internal",fn:function(e){var n=e.editRow,o=e.index,r=e.editRowActive;return[s("div",{staticClass:"internal-links-count"},[s("div",{on:{click:function(u){return t.maybeEditRow("inbound-internal",n,r,o)}}},[s("div",{staticClass:"aioseo-tooltip-wrapper"},[s("core-tooltip",{staticClass:"action",scopedSlots:t._u([{key:"tooltip",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.strings.inboundInternal)}})]},proxy:!0}],null,!0)},[s("svg-link-internal-inbound"),s("span",[t._v(t._s(t.$numbers.numberFormat(t.getLinksReportCounts[o].inboundInternal)))])],1)],1)]),s("div",{on:{click:function(u){return t.maybeEditRow("outbound-internal",n,r,o)}}},[s("div",{staticClass:"aioseo-tooltip-wrapper"},[s("core-tooltip",{staticClass:"action",scopedSlots:t._u([{key:"tooltip",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.strings.outboundInternal)}})]},proxy:!0}],null,!0)},[s("svg-link-internal-outbound"),s("span",[t._v(t._s(t.$numbers.numberFormat(t.getLinksReportCounts[o].outboundInternal)))])],1)],1)])])]}},{key:"suggestions",fn:function(e){var n=e.editRow,o=e.index,r=e.editRowActive;return[s("div",{on:{click:function(u){return t.maybeEditRow("link-suggestions",n,r,o)}}},[s("svg-link-suggestion"),t._v(" "+t._s(t.$numbers.numberFormat(t.getLinksReportCounts[o].suggestionsInbound+t.getLinksReportCounts[o].suggestionsOutbound))+" ")],1)]}},{key:"affiliate",fn:function(e){var n=e.editRow,o=e.index,r=e.editRowActive;return[s("div",{on:{click:function(u){return t.maybeEditRow("affiliate",n,r,o)}}},[s("svg-link-affiliate"),t._v(" "+t._s(t.$numbers.numberFormat(t.getLinksReportCounts[o].affiliate))+" ")],1)]}},{key:"external",fn:function(e){var n=e.editRow,o=e.index,r=e.editRowActive;return[s("div",{on:{click:function(u){return t.maybeEditRow("external",n,r,o)}}},[s("svg-link-external"),t._v(" "+t._s(t.$numbers.numberFormat(t.getLinksReportCounts[o].external))+" ")],1)]}},{key:"toggle-button",fn:function(e){var n=e.index,o=e.editRow;return[s("button",{staticClass:"toggle-row-button",class:{active:t.isRowActive(n)},on:{click:function(r){o(n),t.toggleRow(n)}}},[s("svg-caret")],1)]}},{key:"edit-row",fn:function(e){var n=e.row,o=e.index;return[s("LinksReportInner",{key:t.innerTableKey,attrs:{post:n,postIndex:o,postId:t.getPostId(n.ID),initialActiveTab:t.initialActiveTab}})]}}])}),s("link-assistant-confirmation-modal",{attrs:{showModal:t.showModal,selectedRows:t.selectedRows,strings:t.modalStrings},on:{doBulkAction:t.deleteAllLinks,closeModal:function(e){t.showModal=!1}}})],1)},Ct=[];const Dt={components:{CoreTooltip:E,CoreWpTable:m,LinkAssistantConfirmationModal:f,LinksReportInner:Pt,SvgCaret:q,SvgLinkAffiliate:b,SvgLinkExternal:g,SvgLinkInternalInbound:_,SvgLinkInternalOutbound:w,SvgLinkSuggestion:v},mixins:[k],data(){return{initialActiveTab:"inbound-internal",tableKey:0,innerTableKey:0,activeRow:-1,wpTableLoading:!1,showModal:!1,selectedRows:null,bulkAction:null,selectedFilters:{"post-types":"all"},additionalFilters:null,strings:{deleteAllLinks:"Delete All Links",inboundInternal:this.$t.sprintf("%1$sInbound Internal Links%2$sLinks from other posts to this post","<strong>","</strong><br />"),outboundInternal:this.$t.sprintf("%1$sOutbound Internal Links%2$sLinks from this post to other posts","<strong>","</strong><br />")},modalStrings:{areYouSureSingle:"Are you sure you want to delete all links for this domain?",actionCannotBeUndone:"This action cannot be undone.",yesSingle:"Yes, I want to delete all links",noChangedMind:"No, I changed my mind"}}},computed:l(a(a({},d("linkAssistant",["linksReport"])),C("linkAssistant",["getLinksReportCounts"])),{columns(){return[{slug:"post_title",label:"Post Title",width:"100%"},{slug:"publish_date",label:"Publish Date",width:"170px"},{slug:"internal",label:"Internal",width:"150px"},{slug:"affiliate",label:"Affiliate",width:"90px"},{slug:"external",label:"External",width:"90px"},{slug:"suggestions",label:"Suggestions",width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}}),methods:l(a(a({},c("linkAssistant",["linksReportPaginate","linksReportSearch","linksReportFilter","linksReportAdditionalFilter","linksReportDeleteAll","setLinksReportCounts"])),h("linkAssistant",["setPaginatedPage"])),{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,i,s,e){if(!s){this.initialActiveTab=t,i(e),this.toggleRow(e);return}if(this.initialActiveTab===t){i(e),this.toggleRow(e);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linksReport.rows[this.selectedRows].ID;if(!!t)return this.wpTableLoading=!0,this.linksReportDeleteAll({postId:t,searchTerm:this.linksReport.tableFields.searchTerm,selectedFilters:this.selectedFilters}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},processPagination(t){this.setPaginatedPage({group:"linksReport",page:t}),this.wpTableLoading=!0,this.linksReportPaginate({page:t,selectedFilters:this.selectedFilters,searchTerm:this.linksReport.tableFields.searchTerm}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},processSearch(t){this.wpTableLoading=!0,this.linksReport.tableFields.searchTerm=t,this.linksReportSearch({searchTerm:t,page:1}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.$refs.table.setPageNumber(this.linksReport.totals.page),this.tableKey++})},processFilter(t){this.wpTableLoading=!0,this.selectedFilters.mainFilter=t.slug,this.linksReportFilter({slug:t.slug}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})},processAdditionaFilterOptionSelected({name:t,selectedValue:i}){t==="post-type"&&(this.selectedFilters.mainFilter=i),this.additionalFilters=this.linksReport.additionalFilters.filter(s=>s.name==="post-type"||s.dependsOn&&this.selectedFilters.mainFilter===s.dependsOn.value)},processAdditionalFilters({filters:t}){this.wpTableLoading=!0,t.term?this.additionalFilters.find(s=>s.name==="term")?this.selectedFilters.term=t.term:this.selectedFilters.term="":this.selectedFilters.term="",t["post-type"]?this.selectedFilters.mainFilter=t["post-type"]:this.selectedFilters.mainFilter="",this.linksReportAdditionalFilter({selectedFilters:this.selectedFilters}).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.tableKey++})}}),beforeMount(){this.additionalFilters=this.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters.mainFilter===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilter({slug:"all"});break;case"postTitle":this.linksReport.tableFields.searchTerm=this.$route.query.postTitle,this.processSearch(this.$route.query.postTitle);break;case"linkingOpportunities":this.processFilter({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilter({slug:"orphaned-posts"});break}}),this.setLinksReportCounts())}},I={};var Ft=p(Dt,Lt,Ct,!1,Mt,null,null,null);function Mt(t){for(let i in I)this[i]=I[i]}var Ot=function(){return Ft.exports}(),Bt=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-link-assistant-post-report"},[t.loadingInitialData?s("div",{staticClass:"header-container"},[s("div",{staticClass:"first-row"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePostReport.apply(null,arguments)}}},[t._v(" \u2190 "),s("span",[t._v(t._s(t.strings.backToLinksReport))])])]),s("div",{staticClass:"second-row"},[s("div",{staticClass:"first-column"},[s("span",{staticClass:"header"},[t._v(t._s(t.strings.loadingHeader))])])])]):t._e(),t.showLoadingBar?s("div",{staticClass:"load-progress"},[s("div",{staticClass:"load-progress-value",style:{animationDuration:t.loadTime+"s"}})]):t._e(),t.loadingInitialData?t._e():s("div",{staticClass:"header-container"},[s("div",{staticClass:"first-row"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePostReport.apply(null,arguments)}}},[t._v(" \u2190 "),s("span",[t._v(t._s(t.strings.backToLinksReport))])])]),s("div",{staticClass:"second-row"},[s("div",{staticClass:"first-column"},[s("span",{staticClass:"header"},[t._v(t._s(t.header))]),s("div",{staticClass:"actions"},[s("a",{staticClass:"view-post-link",attrs:{href:t.post.context.permalink,target:"_blank"}},[t._v(t._s(t.viewPost(t.post.context.postType.singular)))]),t._v(" | "),s("a",{staticClass:"edit-post-link",attrs:{href:t.post.context.editLink,target:"_blank"}},[t._v(t._s(t.editPost(t.post.context.postType.singular)))])])]),s("div",{staticClass:"second-column"},[s("base-button",{attrs:{type:"blue",tag:"button",loading:t.refreshLoading,disabled:t.isPrioritizedPost},on:{click:t.doRefresh}},[s("svg-refresh"),t._v(" "+t._s(t.strings.refresh)+" ")],1)],1)])]),s("core-main-tabs",{staticClass:"link-tabs",attrs:{internal:"",tabs:t.tabs,active:t.activeTab,showSaveButton:!1},on:{changed:function(e){return t.processChangeTab(e)}},scopedSlots:t._u([{key:"md-tab-icon",fn:function(e){var n=e.tab;return[s(n.icon,{tag:"component",class:[{warning:n.data.warning}]})]}}])}),t.activeTab==="outbound-internal"?s("link-assistant-outbound-internal",{attrs:{post:t.getPost,postIndex:t.postIndex,postId:t.postId,postReport:""},on:{openSuggestions:function(e){return t.processChangeTab("link-suggestions","suggestions-outbound")}}}):t._e(),t.activeTab==="inbound-internal"?s("link-assistant-inbound-internal",{attrs:{post:t.getPost,postIndex:t.postIndex,postId:t.postId,postReport:""},on:{openSuggestions:function(e){return t.processChangeTab("link-suggestions","suggestions-inbound")}}}):t._e(),t.activeTab==="affiliate"?s("link-assistant-affiliate",{attrs:{post:t.getPost,postIndex:t.postIndex,postId:t.postId,postReport:""}}):t._e(),t.activeTab==="external"?s("link-assistant-external",{attrs:{post:t.getPost,postIndex:t.postIndex,postId:t.postId,postReport:""}}):t._e(),t.activeTab==="link-suggestions"?s("link-assistant-suggestions",{attrs:{post:t.getPost,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:t.filteredSuggestionsOutbound(t.post),initialTab:t.activeSuggestionTab,postReport:""},on:{showStandalone:function(e){t.showStandalone=!0},suggestionsTabChanged:function(e){return t.activeSuggestionTab=e}}}):t._e()],1)},Kt=[];const Et={components:{CoreMainTabs:Y,LinkAssistantAffiliate:D,LinkAssistantExternal:F,LinkAssistantInboundInternal:M,LinkAssistantOutboundInternal:O,LinkAssistantSuggestions:B,SvgLinkAffiliate:b,SvgLinkExternal:g,SvgLinkInternalInbound:_,SvgLinkInternalOutbound:w,SvgLinkSuggestion:v,SvgRefresh:N},mixins:[k,K,j],data(){return{postId:null,postIndex:0,post:{},activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",refreshLoading:!1,loadTime:4,showLoadingBar:!1,loadingInitialData:!1,strings:{backToLinksReport:"Back to Links Report",loadingHeader:"Loading Link Suggestions. Please wait...",refresh:"Refresh"}}},computed:l(a({},d("linkAssistant",["postReport"])),{getPost(){return l(a({},this.post),{links:this.postReport})},header(){return this.$t.sprintf('Internal Links & Suggestions for "%1$s"',this.post.context.postTitle)},tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.inboundInternal.totals.total,"Inbound Internal")},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.post.links.outboundInternal.totals.total,"Outbound Internal")},{slug:"affiliate",icon:"svg-link-affiliate",name:this.$t.sprintf("%1$s %2$s",this.post.links.affiliate.totals.total,"Affiliate")},{slug:"external",icon:"svg-link-external",name:this.$t.sprintf("%1$s %2$s",this.post.links.external.totals.total,"External")},{slug:"link-suggestions",icon:"svg-link-suggestion",name:this.$t.sprintf("%1$s %2$s",this.post.links.suggestionsOutbound.totals.total+this.post.links.suggestionsInbound.totals.total,"Link Suggestions")}]}}),methods:l(a(a({},c("linkAssistant",["postReportInitial","linksRefresh"])),h("linkAssistant",["setPostReportLinks","resetPostReportState"])),{closePostReport(){this.$router.push({name:"links-report"})},processChangeTab(t,i){this.activeTab=t,i&&(this.activeSuggestionTab=i)},doRefresh(){this.refreshLoading=!0,this.$bus.$emit("updatingLinks",!0),this.linksRefresh({postIndex:this.postIndex,postId:this.post.ID,linksReport:!0}).finally(()=>{this.refreshLoading=!1,this.$bus.$emit("updatingLinks",!1)})},checkProgress(){this.showLoadingBar=!1,this.loadingInitialData&&this.$nextTick(()=>{this.showLoadingBar=!0,2>this.loadTime&&(this.loadTime=4),this.loadTime=this.loadTime/2,setTimeout(this.checkProgress,this.loadTime*1e3)})}}),beforeMount(){if(!!this.$route.query){if(!this.$route.query.postId){this.$router.push({name:"links-report"});return}this.postId=parseInt(this.$route.query.postId),this.activeTab=this.$route.query.initialTab,this.activeSuggestionTab=this.$route.query.initialSuggestionTab,this.post={ID:this.postId,context:{postType:{singular:null}},links:a({},this.linkAssistant.postReport)}}},mounted(){this.resetPostReportState(),this.$bus.$emit("updatingLinks",!0),this.showLoadingBar=!0,this.loadingInitialData=!0,setTimeout(this.checkProgress,this.loadTime*1e3),this.postReportInitial(this.postId).then(t=>{t.body.links&&(this.post.links=t.body.links),t.body.context&&(this.post.context=t.body.context),this.setPostReportLinks({links:a({},t.body.links)})}).catch(t=>{console.error(t),this.$router.push({name:"links-report"})}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.showLoadingBar=!1,this.loadingInitialData=!1})}},T={};var qt=p(Et,Bt,Kt,!1,Yt,null,null,null);function Yt(t){for(let i in T)this[i]=T[i]}var Nt=function(){return qt.exports}(),jt=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-post-status-options-toggle"},[s("div",{staticClass:"post-status-options-settings"},[t.postStatuses.length===0&&t.type==="postStatuses"?s("core-alert",{attrs:{type:"blue"}},[s("strong",[t._v(t._s(t.strings.noPostStatuses))]),t._v(" "+t._s(t.strings.noPostStatusesDescription)+" ")]):t._e(),t.postStatuses.length===0&&t.type==="taxonomies"?s("core-alert",{attrs:{type:"blue"}},[s("strong",[t._v(t._s(t.strings.noTaxonomies))]),t._v(" "+t._s(t.strings.noTaxonomiesDescription)+" ")]):t._e(),0<t.postStatuses.length?s("grid-row",t._l(t.postStatuses,function(e,n){return s("grid-column",{key:n,attrs:{md:"6"}},[s("base-highlight-toggle",{attrs:{size:"medium",active:t.isActive(e),name:e.label,type:"checkbox",value:t.getValue(e)},on:{input:function(o){return t.updateValue(o,e)}}},[t._v(" "+t._s(e.label)+" ("+t._s(e.status)+") ")])],1)}),1):t._e()],1)])},zt=[];const Ut={components:{BaseHighlightToggle:rt,CoreAlert:lt,GridColumn:ut,GridRow:pt},props:{type:{type:String,required:!0},options:{type:Object,required:!0},excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:"Label:",name:"Status:",noPostStatuses:"No post statuses available.",noTaxonomies:"No taxonomies available.",noPostStatusesDescription:"All post statuses are set to noindex or your site does not have any post statuses registered that are supported by this feature.",noTaxonomiesDescription:"All taxonomies are set to noindex or your site does not have any taxonomies registered that are supported by this feature."}}},computed:{postStatuses(){return this.$aioseo.postData[this.type].filter(t=>!this.excluded.includes(t.status))}},methods:{emitInput(t){this.$emit("input",t)},updateValue(t,i){if(t){const e=this.options[this.type].included;e.push(i.status),this.$set(this.options[this.type],"included",e);return}const s=this.options[this.type].included.findIndex(e=>e===i.status);s!==-1&&this.$delete(this.options[this.type].included,s)},getValue(t){return this.options[this.type].included.includes(t.status)},isActive(t){return this.options[this.type].included.findIndex(s=>s===t.status)!==-1}}},S={};var Ht=p(Ut,jt,zt,!1,Gt,null,null,null);function Gt(t){for(let i in S)this[i]=S[i]}var Vt=function(){return Ht.exports}(),Jt=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-link-assistant-settings"},[s("core-card",{attrs:{slug:"linkAssistantSettings","header-text":t.strings.settings}},[s("core-settings-row",{attrs:{name:t.strings.postTypes},scopedSlots:t._u([{key:"content",fn:function(){return[s("base-checkbox",{attrs:{size:"medium"},model:{value:t.linkAssistantOptions.postTypes.all,callback:function(e){t.$set(t.linkAssistantOptions.postTypes,"all",e)},expression:"linkAssistantOptions.postTypes.all"}},[t._v(" "+t._s(t.strings.includeAllPostTypes)+" ")]),t.linkAssistantOptions.postTypes.all?t._e():s("core-post-type-options",{attrs:{id:"postTypes",options:t.linkAssistantOptions,excluded:["attachment"],type:"postTypes"}}),s("div",{staticClass:"aioseo-description"},[t._v(" "+t._s(t.strings.selectPostTypes)+" "),s("span",{domProps:{innerHTML:t._s(t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0))}})])]},proxy:!0}])}),s("core-settings-row",{attrs:{name:t.strings.postStatuses},scopedSlots:t._u([{key:"content",fn:function(){return[s("base-checkbox",{attrs:{size:"medium"},model:{value:t.linkAssistantOptions.postStatuses.all,callback:function(e){t.$set(t.linkAssistantOptions.postStatuses,"all",e)},expression:"linkAssistantOptions.postStatuses.all"}},[t._v(" "+t._s(t.strings.includeAllPostStatuses)+" ")]),t.linkAssistantOptions.postStatuses.all?t._e():s("core-post-status-options",{attrs:{id:"postStatuses",options:t.linkAssistantOptions,type:"postStatuses"}}),s("div",{staticClass:"aioseo-description"},[t._v(" "+t._s(t.strings.selectPostStatuses)+" "),s("span",{domProps:{innerHTML:t._s(t.$links.getDocLink(t.$constants.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0))}})])]},proxy:!0}])}),s("core-settings-row",{attrs:{name:t.strings.skipSentences,align:""},scopedSlots:t._u([{key:"content",fn:function(){return[s("base-input",{staticClass:"settings-skip-sentences",attrs:{type:"number",size:"medium",min:0},on:{keyup:function(e){return t.validateSkipSentences(e)}},model:{value:t.linkAssistantOptions.skipSentences,callback:function(e){t.$set(t.linkAssistantOptions,"skipSentences",e)},expression:"linkAssistantOptions.skipSentences"}}),s("div",{staticClass:"aioseo-description"},[t._v(" "+t._s(t.strings.skipSentencesDescription)+" ")])]},proxy:!0}])}),s("core-settings-row",{staticClass:"affiliate-prefix",attrs:{name:t.strings.affiliatePrefix,align:""},scopedSlots:t._u([{key:"content",fn:function(){return[s("base-select",{attrs:{multiple:"",taggable:"",options:t.getJsonValue(t.linkAssistantOptions.affiliatePrefix)||[],value:t.getJsonValue(t.linkAssistantOptions.affiliatePrefix)||[]},on:{input:function(e){return t.linkAssistantOptions.affiliatePrefix=t.setJsonValue(e)}}}),s("div",{staticClass:"aioseo-description"},[t._v(" "+t._s(t.strings.affiliatePrefixDescription)+" ")])]},proxy:!0}])}),s("core-settings-row",{attrs:{name:t.strings.excludePostsPages,align:""},scopedSlots:t._u([{key:"content",fn:function(){return[s("core-exclude-posts",{attrs:{options:t.linkAssistantOptions,type:"posts"}})]},proxy:!0}])}),s("core-settings-row",{attrs:{name:t.strings.wordsToIgnore},scopedSlots:t._u([{key:"content",fn:function(){return[s("base-textarea",{attrs:{minHeight:200,autosize:!1},model:{value:t.linkAssistantOptions.wordsToIgnore,callback:function(e){t.$set(t.linkAssistantOptions,"wordsToIgnore",e)},expression:"linkAssistantOptions.wordsToIgnore"}})]},proxy:!0}])})],1)],1)},Wt=[];const Qt={components:{BaseCheckbox:it,BaseTextarea:nt,CoreCard:ot,CoreExcludePosts:at,CorePostStatusOptions:Vt,CorePostTypeOptions:dt,CoreSettingsRow:ct},mixins:[et],data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:"Link Settings",postTypes:"Post Types",includeAllPostTypes:"Include All Post Types",selectPostTypes:"Select which Post Types you want to enable Link Assistant for.",postStatuses:"Post Statuses",includeAllPostStatuses:"Include All Post Statuses",selectPostStatuses:"Select which Post Statuses you want to enable Link Assistant for.",skipSentences:"Number of Sentences to Skip at Beginning",skipSentencesDescription:this.$t.sprintf("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.","AIOSEO"),affiliatePrefix:"Affiliate Link Prefix",affiliatePrefixDescription:this.$t.sprintf('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',"AIOSEO"),excludePostsPages:"Exclude Posts / Pages",wordsToIgnore:"Words to Ignore"}}},computed:a({},d({linkAssistantOptions:t=>t.linkAssistant.options.main})),methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantOptions.affiliatePrefix,this.$bus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantOptions.affiliatePrefix})}},P={};var Xt=p(Qt,Jt,Wt,!1,Zt,null,null,null);function Zt(t){for(let i in P)this[i]=P[i]}var ts=function(){return Xt.exports}(),ss=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"aioseo-link-assistant"},[s("core-main",{attrs:{"page-name":t.strings.pageName,"exclude-tabs":t.excludedTabs,showTabs:t.$route.name!=="post-report"}},[s(t.$route.name,{tag:"component"})],1),s("transition",{attrs:{name:"fade-processing-popup"}},[t.suggestionsScan.showProcessingPopup&&(t.$route.name==="links-report"||t.$route.name==="overview")&&t.suggestionsScan.percent!==100?s("core-processing-popup",{on:{"close-processing-popup":t.toggleProcessingPopup}}):t._e()],1)],1)},es=[];const is={components:{CoreMain:Q,DomainsReport:xt,LinksReport:Ot,Overview:st,PostReport:Nt,Settings:ts},mixins:[J,W],data(){return{strings:{pageName:"Link Assistant"}}},computed:l(a({},d("linkAssistant",["suggestionsScan"])),{excludedTabs(){const t=(this.$addons.isActive("aioseo-link-assistant")?this.getExcludedUpdateTabs("aioseo-link-assistant"):this.getExcludedActivationTabs("aioseo-link-assistant"))||[];return t.push("post-report"),t}}),methods:a(a({},h("linkAssistant",["toggleProcessingPopup"])),c("linkAssistant",["pollSuggestionsScan","getMenuData"])),mounted(){this.$bus.$on("changes-saved",()=>{this.getMenuData()}),this.$isPro&&this.suggestionsScan.percent!==100&&this.$addons.isActive("aioseo-link-assistant")&&!this.$addons.requiresUpgrade("aioseo-link-assistant")&&this.$addons.hasMinimumVersion("aioseo-link-assistant")&&this.pollSuggestionsScan()}},L={};var ns=p(is,ss,es,!1,os,null,null,null);function os(t){for(let i in L)this[i]=L[i]}var ge=function(){return ns.exports}();export{ge as default};
