var k=Object.defineProperty,x=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var p=(t,s,e)=>s in t?k(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,n=(t,s)=>{for(var e in s||(s={}))L.call(s,e)&&p(t,e,s[e]);if(_)for(var e of _(s))D.call(s,e)&&p(t,e,s[e]);return t},c=(t,s)=>x(t,S(s));import{b as U,a as $,d as u,c as b}from"./index.63323e13.js";import"./ToolsSettings.9a525564.js";import"./helpers.d992cd63.js";import{J as A}from"./JsonValues.08065e69.js";import{c as I,S as E}from"./index.cd641513.js";import{S as M}from"./Close.5e7bcb70.js";import{n as d}from"./vueComponentNormalizer.87056a83.js";import{C as R}from"./Index.186023c6.js";import{C as y}from"./Index.05a01367.js";import{C as P}from"./Modal.ff6affc5.js";import{C as B}from"./Tooltip.3ec20ff5.js";import{C}from"./Table.54a999e9.js";import{S as F}from"./Information.f4b75b56.js";import{S as O}from"./QuestionMark.83ebd18e.js";import{C as T}from"./Index.842cade7.js";import{C as Y}from"./Blur.8490ecd2.js";import{C as H}from"./Card.b87ede7d.js";import{R as G}from"./RequiredPlans.27e26653.js";var N=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"aioseo-redirects-table"},[e("core-wp-table",{key:t.wpTableKey,ref:"table",attrs:{filters:t.filters,totals:t.totals.main,columns:t.columns,rows:t.getRows,initialPageNumber:t.tableFields.main.paginatedPage,initialSearchTerm:t.tableFields.main.searchTerm,loading:t.wpTableLoading,"search-label":t.strings.searchUrls,"bulk-options":t.bulkOptions,"additional-filters":t.additionalFilters,showBulkActions:t.showBulkActions,showTableFooter:t.showTableFooter,showHeader:t.showHeader},on:{"filter-table":t.filterTable,"process-bulk-action":t.processBulkAction,"process-additional-filters":t.processAdditionalFilters,paginate:t.processPagination,search:t.processSearch},scopedSlots:t._u([{key:"source_url",fn:function(r){var i=r.row,o=r.index,l=r.column,h=r.editRow;return[e("strong",[e("a",{staticClass:"edit-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),h(o)}}},[t._v(t._s(l))])]),e("div",{staticClass:"row-actions"},[e("span",{staticClass:"edit"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),h(o)}}},[t._v(t._s(t.strings.edit))]),t._v(" | ")]),i.enabled?e("span",{staticClass:"test"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.showRedirectTest(i)}}},[t._v(t._s(t.strings.checkRedirect))]),t._v(" | ")]):t._e(),e("span",{staticClass:"trash"},[e("a",{staticClass:"submitdelete",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.maybeDeleteRow(o)}}},[t._v(t._s(t.strings.delete))])])])]}},{key:"type",fn:function(r){var i=r.column;return[t._v(" "+t._s(t.getColumnLabel(i))+" ")]}},{key:"enabled",fn:function(r){var i=r.column,o=r.row;return[e("div",{staticStyle:{"text-align":"right"}},[e("base-toggle",{attrs:{value:i},on:{input:function(l){return t.toggleInput(o,i)}}})],1)]}},{key:"edit-row",fn:function(r){var i=r.row,o=r.editRow;return[e("core-add-redirection",{attrs:{edit:"",url:{id:i.id,url:i.source_url,regex:i.regex,ignoreSlash:i.ignore_slash,ignoreCase:i.ignore_case,showOptions:!0,errors:[],warnings:[]},target:i.target_url,type:i.type,query:i.query_param,rules:i.custom_rules,disableSource:t.disableSource},on:{cancel:function(l){return o(null)}}})]}},{key:"actions",fn:function(r){var i=r.row;return[i.custom_rules&&0<i.custom_rules.length?e("span",[e("core-tooltip",{attrs:{type:"action"},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.strings.rules)+" ")]},proxy:!0}],null,!0)},[e("svg-circle-information",{staticClass:"log-info",nativeOn:{click:function(o){return t.showCustomRuleInfo(i)}}})],1)],1):t._e()]}}])}),t.showDeleteModal?e("core-modal",{attrs:{"no-header":""},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"aioseo-modal-body"},[e("button",{staticClass:"close",on:{click:function(r){r.stopPropagation(),t.showDeleteModal=!1}}},[e("svg-close",{on:{click:function(r){t.showDeleteModal=!1}}})],1),e("h3",[t._v(t._s(t.areYouSureDeleteRedirect))]),e("div",{staticClass:"reset-description",domProps:{innerHTML:t._s(t.strings.actionCannotBeUndone)}}),e("base-button",{attrs:{type:"blue",size:"medium",loading:t.deletingRow},on:{click:t.processDeleteRow}},[t._v(" "+t._s(t.yesDeleteRedirect)+" ")]),e("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(r){t.showDeleteModal=!1}}},[t._v(" "+t._s(t.strings.noChangedMind)+" ")])],1)]},proxy:!0}],null,!1,1995483884)}):t._e(),t.customRuleInfo?e("core-modal",{on:{close:function(r){t.customRuleInfo=null}},scopedSlots:t._u([{key:"headerTitle",fn:function(){return[t._v(" "+t._s(t.strings.customRules)+" ")]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"aioseo-modal-body custom-rule-info"},t._l(t.customRuleInfo,function(r,i){return e("div",{key:i},[e("div",{staticClass:"rule"},[e("strong",[t._v(t._s(t.$constants.REDIRECTS_CUSTOM_RULES_LABELS[r.type])+":")]),t._v(" "+t._s(typeof r.value!="object"&&!r.key?t.$constants.REDIRECTS_CUSTOM_RULES_LABELS[r.value]||r.value:"")+" "),t.isObject(r.value)?e("ul",t._l(r.value,function(o,l){return e("li",{key:l},[t._v(t._s(t.$constants.REDIRECTS_CUSTOM_RULES_LABELS[o]||o)+" ")])}),0):t._e(),r.key?e("ul",[e("li",[e("strong",[t._v(t._s(r.key)+":")]),t._v(" "+t._s(r.value))])]):t._e()]),r.regex?e("div",{staticClass:"regex"},[e("base-toggle",{attrs:{value:r.regex,disabled:!0}},[t._v(" "+t._s(t.strings.regex)+" ")])],1):t._e()])}),0)]},proxy:!0}],null,!1,2065651901)}):t._e(),t.redirectTestInfo?e("core-modal",{staticClass:"aioseo-redirects redirect-test",attrs:{isolate:""},on:{close:function(r){t.redirectTestInfo=null}},scopedSlots:t._u([{key:"headerTitle",fn:function(){return[e("div",{staticClass:"title"},[t._v(t._s(t.strings.redirectTest)+":")]),e("core-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[e("div",[t._v(" "+t._s(t.redirectTestInfo.source_url)+" ")])]},proxy:!0}],null,!1,1774762636)},[e("div",{staticClass:"source"},[t._v(t._s(t.redirectTestInfo.source_url))])])]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"aioseo-modal-body"},[e("div",{staticClass:"custom-url"},[t.redirectTestInfo.regex?e("core-alert",{staticClass:"alert-regex",attrs:{type:"blue",size:"medium"}},[e("svg-circle-information"),e("span",{domProps:{innerHTML:t._s(t.strings.regexNeedsUrl)}})],1):t._e(),e("div",{staticClass:"label"},[t._v(" "+t._s(t.strings.customUrl)+" "),e("core-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.customUrlDescription(t.redirectTestInfo))}})]},proxy:!0}],null,!1,2322812326)},[e("svg-circle-question-mark")],1)],1),e("div",{staticClass:"custom-url-input"},[e("base-input",{attrs:{size:"medium",value:t.redirectTestUrl,disabled:t.redirectTestLoading},on:{input:function(r){return t.redirectTestUrl=r}}}),e("base-button",{attrs:{type:"green",size:"medium",loading:t.redirectTestLoading},on:{click:function(r){return r.preventDefault(),t.redirectTest(t.redirectTestInfo.id)}}},[t._v(" "+t._s(t.strings.testUrl)+" ")])],1)],1),t.redirectTestResult?e("div",{staticClass:"redirect-results"},[e("div",{staticClass:"result"},[t.redirectTestResult.errors.length===0?e("core-alert",{attrs:{type:"green",size:"medium"}},[e("svg-circle-check"),t._v(" "+t._s(t.strings.redirectResultOk)+" ")],1):t._e(),0<t.redirectTestResult.errors.length?e("core-alert",{attrs:{type:"red",size:"medium"}},[e("svg-circle-close"),t._v(" "+t._s(t.strings.redirectResultError)+" ")],1):t._e()],1),e("div",{staticClass:"summary"},[e("div",{staticClass:"label"},[t._v(t._s(t.strings.summary))]),e("table",{staticClass:"redirects-options-table small",attrs:{"aria-label":"Redirect Check Results"}},[e("thead",[e("tr",[e("td"),e("td",[t._v(t._s(t.strings.expected))]),e("td",[t._v(t._s(t.strings.result))])])]),e("tbody",[e("tr",{staticClass:"even"},[e("td",[t._v(t._s(t.strings.responseCode)+":")]),e("td",[t._v(t._s(t.redirectTestInfo.type))]),e("td",[t._v(t._s(t.redirectTestResult.redirect.responseCode))])]),t.redirectTestResult.redirect.location?e("tr",[e("td",[t._v(t._s(t.strings.targetUrl)+":")]),e("td",[t._v(t._s(t.redirectTestResult.redirect.targetUrl))]),e("td",[t._v(t._s(t.redirectTestResult.redirect.location))])]):t._e(),t.redirectTestResult.redirect.xRedirectBy?e("tr",{staticClass:"even"},[e("td",[t._v(t._s(t.strings.xRedirectBy)+":")]),e("td",[t._v("AIOSEO")]),e("td",[t._v(t._s(t.redirectTestResult.redirect.xRedirectBy))])]):t._e()])])]),0<t.redirectTestResult.errors.length?e("div",{staticClass:"errors"},[e("div",{staticClass:"label"},[t._v(t._s(t.strings.errors))]),e("core-alert",{attrs:{type:"red",size:"medium"}},[e("ul",t._l(t.redirectTestResult.errors,function(r,i){return e("li",{key:i},[e("span",{domProps:{innerHTML:t._s(r)}})])}),0)])],1):t._e()]):t._e()])]},proxy:!0}],null,!1,1369932862)}):t._e()],1)},j=[];const z={components:{CoreAddRedirection:R,CoreAlert:y,CoreModal:P,CoreTooltip:B,CoreWpTable:C,SvgCircleCheck:I,SvgCircleClose:M,SvgCircleInformation:F,SvgCircleQuestionMark:O,SvgClose:E},mixins:[A],props:{showBulkActions:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},disableSource:{type:Boolean,default(){return!1}},excludeColumns:Array},data(){return{queryUrls:[],deletingRow:!1,showDeleteModal:!1,shouldDeleteRow:null,wpTableKey:0,wpTableLoading:!1,strings:{searchUrls:this.$t.__("Search URLs",this.$td),edit:this.$t.__("Edit",this.$td),checkRedirect:this.$t.__("Check Redirect",this.$td),delete:this.$t.__("Delete",this.$td),areYouSureDeleteRedirect:this.$t.__("Are you sure you want to delete this redirect?",this.$td),areYouSureDeleteRedirects:this.$t.__("Are you sure you want to delete these redirects?",this.$td),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$td),yesDeleteRedirect:this.$t.__("Yes, I want to delete this redirect",this.$td),yesDeleteRedirects:this.$t.__("Yes, I want to delete these redirects",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td),rules:this.$t.__("Rules",this.$td),customRules:this.$t.__("Custom Rules",this.$td),regex:this.$t.__("Regex",this.$td),redirectTest:this.$t.__("Check redirect for",this.$td),summary:this.$t.__("Summary",this.$td),errors:this.$t.__("Errors",this.$td),responseCode:this.$t.__("Response Code",this.$td),sourceUrl:this.$t.__("Source URL",this.$td),targetUrl:this.$t.__("Target URL",this.$td),xRedirectBy:this.$t.__("Redirected By",this.$td),customUrl:this.$t.__("Custom URL",this.$td),testUrl:this.$t.__("Test Redirect",this.$td),redirectResultOk:this.$t.__("Woohoo! Your redirect worked perfectly!",this.$td)+" \u{1F389}",redirectResultError:this.$t.__("Whoops! Your URL failed to redirect properly.",this.$td)+" \u{1F914}",expected:this.$t.__("Expected",this.$td),result:this.$t.__("Result",this.$td),regexNeedsUrl:this.$t.sprintf(this.$t.__("You are using %1$sRegex%2$s for this redirect so you will need to manually add a URL to test.",this.$td),"<strong>","</strong>")},bulkOptions:[{label:this.$t.__("Enable",this.$td),value:"enable"},{label:this.$t.__("Disable",this.$td),value:"disable"},{label:this.$t.__("Reset Hits",this.$td),value:"reset-hits"},{label:this.$t.__("Delete",this.$td),value:"delete"}],customRuleInfo:null,redirectTestInfo:null,redirectTestResult:!1,redirectTestLoading:!1,redirectTestUrl:""}},watch:{rows:{deep:!0,handler(){this.wpTableKey+=1}}},computed:c(n(n({},U("redirects",["rows","getCurrentFilter"])),$("redirects",["filters","totals","tableFields","options","selectedFilters"])),{areYouSureDeleteRedirect(){return Array.isArray(this.shouldDeleteRow)?this.strings.areYouSureDeleteRedirects:this.strings.areYouSureDeleteRedirect},yesDeleteRedirect(){return Array.isArray(this.shouldDeleteRow)?this.strings.yesDeleteRedirects:this.strings.yesDeleteRedirect},columns(){const t=[{slug:"source_url",label:this.$t.__("Source URL",this.$td)},{slug:"target_url",label:this.$t.__("Target URL",this.$td)},{slug:"hits",label:this.$t.__("Hits",this.$td),width:"97px"},{slug:"type",label:this.$t.__("Type",this.$td),width:"100px"},{slug:"group",label:this.$t.__("Group",this.$td),width:"150px"},{slug:"enabled",label:this.$constants.GLOBAL_STRINGS.enabled,width:"80px"},{slug:"actions",label:"",width:"40px"}];if(this.options.main.method==="server"){const s=t.findIndex(e=>e.slug==="hits");s!==-1&&this.$delete(t,s)}return this.excludeColumns&&this.excludeColumns.length?t.filter(s=>!this.excludeColumns.find(e=>e===s.slug)):t},additionalFilters(){return[{label:this.$t.__("Filter by Group",this.$td),name:"group",options:[{label:this.$t.__("All Groups",this.$td),value:"all"}].concat(this.$constants.REDIRECT_GROUPS)}]},getRows(){return this.rows.map(t=>(t.target_url=t.target_url||"-",t))}}),methods:c(n(n({},u("redirects",["filter","bulk","paginate","search","delete","test"])),b("redirects",["setPaginatedPage"])),{filterTable(t){this.wpTableLoading=!0,this.tableFields.main.searchTerm="",this.filter(t).then(()=>{this.wpTableLoading=!1})},refreshTable(){this.filterTable({slug:"all",page:this.$refs.table.pageNumber})},toggleInput(t,s){this.wpTableLoading=!0,this.bulk({action:s?"disable":"enable",rowIds:[t.id]}).then(()=>{this.wpTableLoading=!1})},processBulkAction({action:t,selectedRows:s}){if(!!s.length){if(t==="delete"){this.shouldDeleteRow=s,this.showDeleteModal=!0;return}this.wpTableLoading=!0,this.bulk({action:t,rowIds:s}).then(()=>{this.wpTableLoading=!1})}},processAdditionalFilters({filters:t}){const s=this.getCurrentFilter||{slug:"all"};this.filterTable({slug:s.slug,additional:t,page:this.$refs.table.pageNumber})},processPagination(t){if(this.setPaginatedPage({group:"main",page:t}),this.wpTableLoading=!0,this.tableFields.main.searchTerm)return this.processSearch(this.tableFields.main.searchTerm,t);this.paginate({page:t,additional:this.selectedFilters}).then(()=>{this.wpTableLoading=!1})},processSearch(t,s=1){this.setPaginatedPage({group:"main",page:s}),this.wpTableLoading=!0,this.tableFields.main.searchTerm=t,this.search({searchTerm:t,page:s}).then(()=>{this.wpTableLoading=!1})},getColumnLabel(t){return t===0?this.$t.__("Pass through",this.$td):t},maybeDeleteRow(t){const s=this.rows.find((e,r)=>r===t);s&&(this.showDeleteModal=!0,this.shouldDeleteRow=s.id)},processDeleteRow(){if(this.deletingRow=!0,Array.isArray(this.shouldDeleteRow))return this.bulk({action:"delete",rowIds:this.shouldDeleteRow}).then(()=>{this.deletingRow=!1,this.showDeleteModal=!1,this.shouldDeleteRow=null,this.refreshTable()});this.delete(this.shouldDeleteRow).then(()=>{this.deletingRow=!1,this.showDeleteModal=!1,this.shouldDeleteRow=null,this.refreshTable()})},showCustomRuleInfo(t){this.customRuleInfo=t.custom_rules.map(s=>{switch(s.type){case"role":s.value=s.value.map(e=>e.charAt(0).toUpperCase()+e.slice(1));break}return s})},isObject(t){return typeof t=="object"},showRedirectTest(t){this.redirectTestResult=!1,this.redirectTestUrl=t.regex?"":t.source_url,t.regex||this.redirectTest(t.id),this.redirectTestInfo=t},redirectTest(t){this.redirectTestLoading=!0,this.test({id:t,payload:{sourceUrl:this.redirectTestUrl}}).then(s=>{this.redirectTestLoading=!1,this.redirectTestResult=s.body}).catch(()=>{this.redirectTestLoading=!1})},customUrlDescription(t){const s=t.source_url.replace(this.$aioseo.urls.mainSiteUrl,"");return this.$t.sprintf(this.$t.__("You can test redirects with a URL that includes your domain name ( %1$s ) or just the path ( %2$s )",this.$td),this.$aioseo.urls.mainSiteUrl+s,s)}}),mounted(){this.$bus.$on("added-redirect",this.refreshTable)},beforeDestroy(){this.$bus.$off("added-redirect",this.refreshTable)}},g={};var q=d(z,N,j,!1,W,null,null,null);function W(t){for(let s in g)this[s]=g[s]}var St=function(){return q.exports}(),K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"aioseo-redirects-blur"},[t.noCoreCard?t._e():e("core-card",{attrs:{slug:"addNewRedirection","header-text":t.strings.addNewRedirection,noSlide:!0}},[e("core-blur",[e("core-add-redirection",{attrs:{type:t.$constants.REDIRECT_TYPES[0].value,query:t.$constants.REDIRECT_QUERY_PARAMS[0].value,slash:!0,case:!0}})],1)],1),t.noCoreCard?e("core-blur",[e("core-add-redirection",{attrs:{type:t.$constants.REDIRECT_TYPES[0].value,query:t.$constants.REDIRECT_QUERY_PARAMS[0].value,slash:!0,case:!0}})],1):t._e(),e("core-blur",[e("core-wp-table",{attrs:{filters:[],totals:{total:0,pages:0,page:1},columns:t.columns,rows:[],"search-label":t.strings.searchUrls,"bulk-options":t.bulkOptions,"additional-filters":t.additionalFilters}})],1)],1)},Q=[];const J={components:{CoreAddRedirection:R,CoreBlur:Y,CoreCard:H,CoreWpTable:C},props:{noCoreCard:Boolean},data(){return{strings:{addNewRedirection:this.$t.__("Add New Redirection",this.$td),searchUrls:this.$t.__("Search URLs",this.$td)},bulkOptions:[{label:"",value:""}]}},computed:{columns(){return[{slug:"source_url",label:this.$t.__("Source URL",this.$td)},{slug:"target_url",label:this.$t.__("Target URL",this.$td)},{slug:"hits",label:this.$t.__("Hits",this.$td),width:"97px"},{slug:"type",label:this.$t.__("Type",this.$td),width:"100px"},{slug:"group",label:this.$t.__("Group",this.$td),width:"150px"},{slug:"enabled",label:this.$constants.GLOBAL_STRINGS.enabled,width:"80px"}]},additionalFilters(){return[{label:this.$t.__("Filter by Group",this.$td),name:"group",options:[{label:this.$t.__("All Groups",this.$td),value:"all"}].concat(this.$constants.REDIRECT_GROUPS)}]}}},f={};var V=d(J,K,Q,!1,X,null,null,null);function X(t){for(let s in f)this[s]=f[s]}var w=function(){return V.exports}(),Z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:{"aioseo-redirects":!0,"core-card":!t.noCoreCard}},[e("blur",{attrs:{noCoreCard:t.noCoreCard}}),e("cta",{attrs:{"cta-button-visible":t.$addons.userCanInstallOrActivate("aioseo-redirects"),"cta-button-visible-warning":t.strings.permissionWarning,"cta-link":t.$aioseo.urls.aio.featureManager+"&aioseo-activate=aioseo-redirects","cta-button-action":"","cta-button-loading":t.activationLoading,"same-tab":"","button-text":t.strings.ctaButtonText,"learn-more-link":t.$links.getDocUrl("redirects"),"feature-list":[t.strings.serverRedirects,t.strings.automaticRedirects,t.strings.redirectMonitoring,t.strings.monitoring404,t.strings.fullSiteRedirects,t.strings.siteAliases]},on:{"cta-button-click":t.activateAddon},scopedSlots:t._u([{key:"header-text",fn:function(){return[t._v(" "+t._s(t.strings.ctaHeader)+" ")]},proxy:!0},{key:"description",fn:function(){return[t.failed?e("core-alert",{attrs:{type:"red"}},[t._v(" "+t._s(t.strings.activateError)+" ")]):t._e(),t._v(" "+t._s(t.strings.ctaDescription)+" ")]},proxy:!0},{key:"learn-more-text",fn:function(){return[t._v(" "+t._s(t.strings.learnMoreText)+" ")]},proxy:!0}])})],1)},tt=[];const et={components:{Blur:w,CoreAlert:y,Cta:T},props:{noCoreCard:Boolean},data(){return{strings:{ctaButtonText:this.$t.__("Activate Redirects",this.$tdPro),ctaHeader:this.$t.__("Enable Redirects on your Site",this.$tdPro),serverRedirects:this.$t.__("Fast Server Redirects",this.$td),automaticRedirects:this.$t.__("Automatic Redirects",this.$td),redirectMonitoring:this.$t.__("Redirect Monitoring",this.$td),monitoring404:this.$t.__("404 Monitoring",this.$td),fullSiteRedirects:this.$t.__("Full Site Redirects",this.$td),siteAliases:this.$t.__("Site Aliases",this.$td),ctaDescription:this.$t.__("Our Redirection Manager allows you to easily create and manage redirects for your broken links to avoid confusing search engines and users, as well as losing valuable backlinks. It even automatically sends users and search engines from your old URLs to your new ones.",this.$td),activateError:this.$t.__("An error occurred while activating the addon. Please upload it manually or contact support for more information.",this.$td),permissionWarning:this.$t.__("You currently don't have permission to activate this addon. Please ask a site administrator to activate first.",this.$td)},failed:!1,activationLoading:!1}},computed:n({},$("redirects",["filters","totals","options"])),methods:c(n(n(n({},u("redirects",["filter","getRedirectOptions"])),u(["installPlugins"])),b(["updateAddon"])),{activateAddon(){this.failed=!1,this.activationLoading=!0;const t=this.$addons.getAddon("aioseo-redirects");this.installPlugins([{plugin:t.basename}]).then(s=>{if(s.body.failed.length){this.activationLoading=!1,this.failed=!0;return}const e=[this.filter({slug:"all",page:1}),this.filter({slug:"logs",page:1}),this.filter({slug:"404",page:1}),this.getRedirectOptions()];Promise.all(e).then(()=>{this.activationLoading=!1,t.hasMinimumVersion=!0,t.isActive=!0,this.updateAddon(t),this.$bus.$emit("redirects-activated")})}).catch(()=>{this.activationLoading=!1})}})},m={};var st=d(et,Z,tt,!1,rt,null,null,null);function rt(t){for(let s in m)this[s]=m[s]}var Lt=function(){return st.exports}(),it=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:{"aioseo-redirects":!0,"core-card":!t.noCoreCard}},[e("blur",{attrs:{noCoreCard:t.noCoreCard}}),e("cta",{attrs:{"cta-link":t.$links.getPricingUrl("redirects","redirects-upsell",t.parentComponentContext?t.parentComponentContext:null),"button-text":t.strings.ctaButtonText,"learn-more-link":t.$links.getUpsellUrl("redirects",t.parentComponentContext?t.parentComponentContext:null,"home"),"feature-list":[t.strings.serverRedirects,t.strings.automaticRedirects,t.strings.redirectMonitoring,t.strings.monitoring404,t.strings.fullSiteRedirects,t.strings.siteAliases]},scopedSlots:t._u([{key:"header-text",fn:function(){return[t._v(" "+t._s(t.strings.ctaHeader)+" ")]},proxy:!0},{key:"description",fn:function(){return[e("required-plans",{attrs:{addon:"aioseo-redirects"}}),t._v(" "+t._s(t.strings.redirectsDescription)+" ")]},proxy:!0}])})],1)},ot=[];const nt={components:{Blur:w,RequiredPlans:G,Cta:T},props:{noCoreCard:Boolean,parentComponentContext:String},data(){return{strings:{ctaButtonText:this.$t.__("Upgrade to Pro and Unlock Redirects",this.$td),ctaHeader:this.$t.sprintf(this.$t.__("Redirects are only available for licensed %1$s %2$s users.",this.$td),"AIOSEO","Pro"),serverRedirects:this.$t.__("Fast Server Redirects",this.$td),automaticRedirects:this.$t.__("Automatic Redirects",this.$td),redirectMonitoring:this.$t.__("Redirect Monitoring",this.$td),monitoring404:this.$t.__("404 Monitoring",this.$td),fullSiteRedirects:this.$t.__("Full Site Redirects",this.$td),siteAliases:this.$t.__("Site Aliases",this.$td),redirectsDescription:this.$t.__("Our Redirection Manager allows you to easily create and manage redirects for your broken links to avoid confusing search engines and users, as well as losing valuable backlinks. It even automatically sends users and search engines from your old URLs to your new ones.",this.$td)}}}},v={};var at=d(nt,it,ot,!1,lt,null,null,null);function lt(t){for(let s in v)this[s]=v[s]}var Dt=function(){return at.exports}();export{Lt as A,w as B,Dt as L,St as T};
