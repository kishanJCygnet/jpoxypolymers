import{e as c,a as u,m as d,b as f}from"./index.9d9c8f08.js";import"./ToolsSettings.0bc46799.js";import{R as G,a as Z}from"./RequiresUpdate.ddbe3dd4.js";import{n}from"./vueComponentNormalizer.58b0a173.js";import{C as K}from"./Index.ea850db5.js";import{O as X,i as g,C as p,S as E,P as Q,Q as ee,g as te,R as se}from"./index.693463c8.js";import{C as l}from"./Card.e152dae5.js";import{C as m}from"./SettingsRow.8a127375.js";import{S as v,a as ie}from"./Index.f4c9c219.js";import{C as h}from"./Tooltip.a1ab116b.js";import{S as U}from"./Plus.6ec3819c.js";import{S as V,R as re}from"./Redirects.69bfd9f2.js";import{B as oe}from"./Checkbox.93944087.js";import{G as F,a as I}from"./Row.dfea53f7.js";import{S as ae}from"./Upload.f2cb48d2.js";import{S as z}from"./Download.25871df6.js";import{J as N}from"./JsonValues.08065e69.js";import{C as Y}from"./Index.dbb5baac.js";import{C as j}from"./Table.0d145e69.js";import{S as B}from"./Information.d80e4486.js";import{S as ne}from"./Redirect.56b61a5a.js";import{T as le}from"./Slide.8aaa5049.js";import{B as J,S as ce}from"./Php.114a9d44.js";import{C as de}from"./PostTypeOptions.ec66ca05.js";import{T as ue,a as pe}from"./Row.4ab9b942.js";import"./isArrayLikeObject.44af21ce.js";import"./default-i18n.0e73c33c.js";import"./attachments.4aad9de1.js";import"./cleanForSlug.61ba6611.js";import"./constants.01c2b898.js";import"./RequiresUpdate.fb077207.js";/* empty css             */import"./params.bea1a08d.js";import"./Header.7d60a7f1.js";import"./LicenseKeyBar.5b051ac9.js";import"./LogoGear.fa7af154.js";import"./AnimatedNumber.fb66de3f.js";import"./Logo.a7c6e95c.js";import"./Support.2f6740c0.js";import"./Tabs.45cdcdd3.js";import"./TruSeoScore.98a47fd6.js";import"./Exclamation.c0680526.js";import"./Url.781a1d48.js";import"./Gear.21727cf4.js";import"./client.d00863cc.js";import"./_commonjsHelpers.10c44588.js";import"./translations.3bc9d58c.js";import"./portal-vue.esm.272b3133.js";import"./ProBadge.d6147ee5.js";import"./External.1af3387c.js";import"./Redirects.9af9410a.js";import"./Index.30f97cc3.js";import"./Blur.404d53ce.js";import"./RequiredPlans.f9027045.js";import"./Checkmark.627d69a4.js";import"./HighlightToggle.af16c79b.js";import"./Radio.fa2678ef.js";var he=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{attrs:{slug:"fullSiteRedirectsRelocate",toggles:e.redirectOptions.fullSite.relocate.enabled,disabled:!e.redirectOptions.fullSite.relocate.enabled},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-toggle",{model:{value:e.redirectOptions.fullSite.relocate.enabled,callback:function(i){e.$set(e.redirectOptions.fullSite.relocate,"enabled",i)},expression:"redirectOptions.fullSite.relocate.enabled"}}),t("span",[e._v(e._s(e.strings.relocateSite))])]},proxy:!0},e.redirectOptions.fullSite.relocate.enabled?null:{key:"disabled",fn:function(){return[e._v(" "+e._s(e.strings.descriptionClosed)+" ")]},proxy:!0}],null,!0)},[e.redirectOptions.fullSite.relocate.enabled?t("div",[t("div",{staticClass:"urls aioseo-row"},[t("div",{staticClass:"relocate-address"},[t("div",{staticClass:"desc"},[e._v(e._s(e.strings.oldSiteAddress)+":")]),t("div",{staticClass:"address"},[e._v(e._s(e.$aioseo.urls.home))])]),t("div",{staticClass:"right-arrow"},[t("svg-right-arrow")],1),t("div",{staticClass:"relocate-address"},[t("div",{staticClass:"desc"},[e._v(e._s(e.strings.newSiteAddress)+":")]),t("div",{staticClass:"address"},[e._v(e._s(e.redirectOptions.fullSite.relocate.newDomain))])])]),t("div",{staticClass:"aioseo-section-description"},[e._v(" "+e._s(e.strings.description)+" ")]),t("core-settings-row",{attrs:{name:e.strings.relocateToDomain,align:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("base-input",{class:{"aioseo-error":e.validateUrl(e.redirectOptions.fullSite.relocate.newDomain)===!1,"aioseo-active":e.validateUrl(e.redirectOptions.fullSite.relocate.newDomain)===!0},attrs:{type:"text",size:"medium",spellcheck:!1,"append-icon":"circle-check"},model:{value:e.redirectOptions.fullSite.relocate.newDomain,callback:function(i){e.$set(e.redirectOptions.fullSite.relocate,"newDomain",i)},expression:"redirectOptions.fullSite.relocate.newDomain"}})]},proxy:!0}],null,!1,1732356028)})],1):e._e()])},_e=[];const ge={components:{CoreCard:l,CoreSettingsRow:m,SvgRightArrow:v},data(){return{strings:{relocateSite:this.$t.__("Relocate Site",this.$td),descriptionClosed:this.$t.__("Would you like to relocate your entire site to a new domain? Everything will be redirected except WordPress login and admin. Enabling this option will disable any site aliases or canonical settings.",this.$td),description:this.$t.__("By enabling this option you disabled any site aliases or canonical settings. Enter a domain to redirect everything, except WordPress login and admin.",this.$td),oldSiteAddress:this.$t.__("Your old site address",this.$td),newSiteAddress:this.$t.__("Your new site address",this.$td),relocateToDomain:this.$t.__("Relocate to domain",this.$td)+":"}}},computed:{...c("redirects",["redirectOptions"])},methods:{validateUrl:function(e){return e.length===0?null:X(e)}}},$={};var me=n(ge,he,_e,!1,fe,"01d5fa46",null,null);function fe(e){for(let s in $)this[s]=$[s]}const ve=function(){return me.exports}();var $e=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{attrs:{slug:"fullSiteRedirectsAliases",disabled:e.redirectOptions.fullSite.relocate.enabled},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v(e._s(e.strings.siteAliases))])]},proxy:!0},{key:"disabled",fn:function(){return[e._v(" "+e._s(e.strings.descriptionClosed)+" ")]},proxy:!0}])},[t("div",{staticClass:"aioseo-section-description"},[e._v(" "+e._s(e.strings.description)+" ")]),t("table",{staticClass:"redirects-options-table",attrs:{cellspacing:"0",cellpadding:"0","aria-label":"Site Aliases"}},[t("thead",[t("tr",[t("td",[e._v(e._s(e.strings.aliasedDomain))]),t("td"),t("td",[e._v(e._s(e.strings.alias))]),t("td")])]),t("tbody",[e.parsedAliases.length?e._e():t("tr",{staticClass:"even"},[t("td",{attrs:{colspan:"4"}},[e._v(e._s(e.strings.addAliasesMessage))])]),e._l(e.parsedAliases,function(i,r){return t("tr",{key:r,class:{even:r%2===0}},[t("td",{staticClass:"aliased-domain"},[t("base-input",{attrs:{size:"medium"},on:{input:function(o){return e.updatePage("aliasedDomain",o,r)}},model:{value:i.aliasedDomain,callback:function(o){e.$set(i,"aliasedDomain",o)},expression:"row.aliasedDomain"}})],1),t("td",{staticClass:"arrow-col"},[t("div",[t("svg-right-arrow")],1)]),t("td",[e._v(" "+e._s(e.$aioseo.urls.home)+" ")]),t("td",{staticClass:"actions"},[t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.delete)+" ")]},proxy:!0}],null,!0)},[t("svg-trash",{nativeOn:{click:function(o){return e.removeRow(r)}}})],1)],1)])})],2),t("tfoot",[t("tr",[t("td",{attrs:{colspan:"4"}},[t("base-button",{attrs:{size:"small-table",type:"black"},on:{click:e.addRow}},[t("svg-circle-plus"),e._v(" "+e._s(e.strings.addNew)+" ")],1)],1)])])])])},be=[];const ye={aliasedDomain:null},Se={components:{CoreCard:l,CoreTooltip:h,SvgCirclePlus:U,SvgRightArrow:v,SvgTrash:g},data(){return{strings:{siteAliases:this.$t.__("Site Aliases",this.$td),descriptionClosed:this.$t.__("Site aliases are disabled because you have relocated your site to another domain.",this.$td),description:this.$t.__("A site alias is another domain that you want to be redirected to this site. For example, an old domain, or a subdomain. This will redirect all URLs, including WordPress login and admin. You will need to configure your system (DNS and server) to pass requests for these domains to this WordPress install.",this.$td),aliasedDomain:this.$t.__("Aliased Domain",this.$td),alias:this.$t.__("Alias",this.$td),addNew:this.$t.__("Add New",this.$td),delete:this.$t.__("Delete",this.$td),addAliasesMessage:this.$t.__("Add an alias redirect by clicking in 'Add New'.",this.$td)},validRelocationURL:null}},computed:{...c("redirects",["redirectOptions"]),parsedAliases(){return this.redirectOptions.fullSite.aliases.map(e=>e?JSON.parse(e):{})}},methods:{removeRow(e){this.$delete(this.redirectOptions.fullSite.aliases,e),this.redirectOptions.fullSite.aliases.length===0&&this.addRow()},addRow(){this.redirectOptions.fullSite.aliases.push(JSON.stringify({...ye}))},updatePage(e,s,t){const i=JSON.parse(this.redirectOptions.fullSite.aliases[t]);i[e]=s,this.$set(this.redirectOptions.fullSite.aliases,t,JSON.stringify(i))}},mounted(){this.redirectOptions.fullSite.aliases.length===0&&this.addRow()}},b={};var we=n(Se,$e,be,!1,Oe,null,null,null);function Oe(e){for(let s in b)this[s]=b[s]}const Ce=function(){return we.exports}();var xe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{attrs:{slug:"fullSiteRedirectsCanonical",toggles:e.redirectOptions.fullSite.canonical.enabled,disabled:e.redirectOptions.fullSite.relocate.enabled},scopedSlots:e._u([{key:"header",fn:function(){return[e.redirectOptions.fullSite.relocate.enabled?e._e():t("base-toggle",{model:{value:e.redirectOptions.fullSite.canonical.enabled,callback:function(i){e.$set(e.redirectOptions.fullSite.canonical,"enabled",i)},expression:"redirectOptions.fullSite.canonical.enabled"}}),t("span",[e._v(e._s(e.strings.canonicalSettings))])]},proxy:!0},{key:"disabled",fn:function(){return[e._v(" "+e._s(e.strings.descriptionClosed)+" ")]},proxy:!0}])},[e.redirectOptions.fullSite.canonical.enabled?t("div",[t("div",{staticClass:"urls aioseo-row"},[t("div",{staticClass:"preview"},[t("div",{staticClass:"canonical-address"},[t("div",{staticClass:"desc"},[e._v(e._s(e.strings.currentSiteAddress)+":")]),t("div",{staticClass:"address"},[e._v(e._s(e.$aioseo.urls.home))])]),t("div",{staticClass:"right-arrow"},[t("svg-right-arrow")],1),t("div",{staticClass:"canonical-address"},[t("div",{staticClass:"desc"},[e._v(e._s(e.strings.newSiteAddress)+":")]),t("div",{staticClass:"address"},[e._v(e._s(e.canonicalSiteAddress))])])]),e.canonicalSiteAddress!==e.$aioseo.urls.home?t("div",[t("core-alert",{attrs:{type:"red"},domProps:{innerHTML:e._s(e.strings.configureSiteUrl)}})],1):e._e()]),t("core-settings-row",{staticClass:"http-to-https",attrs:{name:e.strings.httpToHttps},scopedSlots:e._u([{key:"content",fn:function(){return[t("base-toggle",{model:{value:e.redirectOptions.fullSite.canonical.httpToHttps,callback:function(i){e.$set(e.redirectOptions.fullSite.canonical,"httpToHttps",i)},expression:"redirectOptions.fullSite.canonical.httpToHttps"}}),e._v(" "+e._s(e.strings.httpToHttpsDesc)+" "),e.redirectOptions.fullSite.canonical.httpToHttps?t("core-alert",{attrs:{type:"yellow"},domProps:{innerHTML:e._s(e.strings.httpsAlert)}}):e._e()]},proxy:!0}],null,!1,3691266634)}),t("core-settings-row",{attrs:{name:e.strings.preferredDomain,align:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("base-select",{attrs:{size:"large",options:e.preferredDomainOptions,value:e.preferredDomainValue},on:{input:function(i){return e.redirectOptions.fullSite.canonical.preferredDomain=i.value}}})]},proxy:!0}],null,!1,313125584)})],1):e._e()])},Re=[];const ke={components:{CoreAlert:p,CoreCard:l,CoreSettingsRow:m,SvgRightArrow:v},data(){return{strings:{canonicalSettings:this.$t.__("Canonical Settings",this.$td),descriptionClosed:this.$t.__("Canonical Settings are disabled because you have relocated your site to another domain.",this.$td),currentSiteAddress:this.$t.__("Your current site address",this.$td),newSiteAddress:this.$t.__("Your new site address",this.$td),httpToHttps:this.$t.__("Redirect from HTTP to HTTPS",this.$td),httpToHttpsDesc:this.$t.__("Force a redirect from HTTP to HTTPS",this.$td),preferredDomain:this.$t.__("Preferred domain",this.$td),configureSiteUrl:this.$t.sprintf(this.$t.__("You'll need to update your Site Address URL to match your new site address. %1$sUpdate Site Address URL%2$s.",this.$td),`<a href="${this.$aioseo.urls.admin.generalSettings}">`,"</a>"),httpsAlert:this.$t.sprintf(this.$t.__("%1$sWarning:%2$s ensure your HTTPS is working before forcing a redirect. %3$s",this.$td),"<strong>","</strong>",this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectCanonicalHttps",!0))},preferredDomainOptions:[{label:this.$t.__("Leave domain as-is",this.$td),value:""},{label:this.$t.__("Add www to domain",this.$td),value:"add-www"},{label:this.$t.__("Remove www from domain",this.$td),value:"remove-www"}]}},computed:{...c("redirects",["redirectOptions"]),canonicalSiteAddress(){let e=this.$aioseo.urls.home;switch(this.redirectOptions.fullSite.canonical.httpToHttps&&(e=e.replace(/^http:/,"https:")),this.redirectOptions.fullSite.canonical.preferredDomain){case"add-www":e=e.match(/:\/\/www./)?e:e.replace(/:\/\//,"://www.");break;case"remove-www":e=e.replace(/:\/\/www./,"://");break}return e},preferredDomainValue(){let e=this.preferredDomainOptions.filter(s=>s.value===this.redirectOptions.fullSite.canonical.preferredDomain);return e||(e=this.preferredDomainOptions.filter(s=>s.value==="")),e}}},y={};var Te=n(ke,xe,Re,!1,He,"34f637bd",null,null);function He(e){for(let s in y)this[s]=y[s]}const Le=function(){return Te.exports}();var Pe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{attrs:{slug:"fullSiteRedirectsHttpHeaders"},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v(e._s(e.strings.httpHeaders))])]},proxy:!0}])},[t("div",{staticClass:"aioseo-section-description"},[e._v(" "+e._s(e.strings.description)+" ")]),t("table",{staticClass:"redirects-options-table",attrs:{cellspacing:"0",cellpadding:"0","aria-label":"HTTP Headers"}},[t("thead",[t("tr",[t("td",[e._v(e._s(e.strings.location))]),t("td",[e._v(e._s(e.strings.header))]),t("td",[e._v(e._s(e.strings.value))]),t("td")])]),t("tbody",[e.parsedHeaders.length?e._e():t("tr",{staticClass:"even"},[t("td",{attrs:{colspan:"4"}},[e._v(e._s(e.strings.addHeadersMessage))])]),e._l(e.parsedHeaders,function(i,r){return t("tr",{key:r,class:{even:r%2===0}},[t("td",{staticClass:"location"},[t("base-select",{attrs:{size:"medium",options:e.locationOptions,value:e.getHeaderValue("location",r)},on:{input:function(o){return e.updateHeader("location",o,r)}}})],1),t("td",{staticClass:"httpHeader"},[e.getHeaderValue("header",r,!0)!=="custom"?t("base-select",{attrs:{size:"medium",filterable:!0,options:e.headerOptions,"group-label":"groupLabel","group-values":"options",value:e.getHeaderValue("header",r),placeholder:e.strings.headerPlaceholder},on:{input:function(o){return e.updateHeader("header",o,r)}}}):e._e(),e.getHeaderValue("header",r,!0)==="custom"?t("base-input",{attrs:{size:"medium",value:e.getHeaderValue("customHeader",r),"append-icon":"circle-close"},on:{input:function(o){return e.updateHeader("customHeader",o,r)},"append-icon-click":function(o){return e.updateHeader("header","",r)}}}):e._e()],1),t("td",{staticClass:"value",class:{custom:e.isHeaderValueCustom(r)}},[e.getHeaderOptions(r).length?e._e():t("base-input",{attrs:{size:"medium",value:e.getHeaderValue("value",r)},on:{input:function(o){return e.updateHeader("value",o,r)}}}),e.getHeaderOptions(r).length?t("base-select",{attrs:{size:"medium",filterable:!0,options:e.getHeaderOptions(r),value:e.getHeaderValue("value",r),multiple:e.getHeaderMultiple(r)},on:{input:function(o){return e.updateHeader("value",o,r)}}}):e._e(),e.isHeaderValueCustom(r)?t("base-input",{attrs:{size:"medium",value:e.getHeaderValue("customValue",r)},on:{input:function(o){return e.updateHeader("customValue",o,r)}}}):e._e()],1),t("td",{staticClass:"actions"},[t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.delete)+" ")]},proxy:!0}],null,!0)},[t("svg-trash",{nativeOn:{click:function(o){return e.removeRow(r)}}})],1)],1)])})],2),t("tfoot",[t("tr",[t("td",{attrs:{colspan:"4"}},[t("base-button",{attrs:{size:"small-table",type:"black"},on:{click:function(i){return e.addRow(null)}}},[t("svg-circle-plus"),e._v(" "+e._s(e.strings.addHeader)+" ")],1),t("base-button",{attrs:{size:"small-table",type:"black"},on:{click:e.addSecurityPresets}},[t("svg-circle-plus"),e._v(" "+e._s(e.strings.addSecurityPresets)+" ")],1),t("base-button",{attrs:{size:"small-table",type:"black"},on:{click:e.addCorsPresets}},[t("svg-circle-plus"),e._v(" "+e._s(e.strings.addCorsPresets)+" ")],1)],1)])])])])},De=[];const Ae={location:"site",header:null,value:null},Me={components:{CoreCard:l,CoreTooltip:h,SvgCirclePlus:U,SvgTrash:g},data(){return{strings:{httpHeaders:this.$t.__("HTTP Headers",this.$td),description:this.$t.__("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.",this.$td),location:this.$t.__("Location",this.$td),header:this.$t.__("Header",this.$td),value:this.$t.__("Value",this.$td),delete:this.$t.__("Delete",this.$td),addHeader:this.$t.__("Add Header",this.$td),addSecurityPresets:this.$t.__("Add Security Presets",this.$td),addCorsPresets:this.$t.__("Add CORS Presets",this.$td),addHeadersMessage:this.$t.__("Add headers by clicking in the options below.",this.$td),headerPlaceholder:this.$t.__("Select a header",this.$td)}}},computed:{...c("redirects",["redirectOptions"]),parsedHeaders(){return this.redirectOptions.fullSite.httpHeaders.map(e=>e?JSON.parse(e):{})},locationOptions(){return[{label:this.$t.__("Site",this.$td),value:this.$t.__("site",this.$td)},{label:this.$t.__("Redirect",this.$td),value:this.$t.__("redirect",this.$td)}]},headerOptions(){const e=this.$constants.HTTP_RESPONSE_HEADERS;return e.find(s=>s.groupLabel===this.$t.__("Custom",this.$td))||e.push({groupLabel:this.$t.__("Custom",this.$td),options:[{label:this.$t.__("Custom",this.$td),value:"custom"}]}),e}},methods:{removeRow(e){this.$delete(this.redirectOptions.fullSite.httpHeaders,e),this.redirectOptions.fullSite.httpHeaders.length===0&&this.addRow()},addRow(e,s=!1){e||(e=Ae),e=JSON.stringify({...e}),(!s||s&&this.redirectOptions.fullSite.httpHeaders.filter(t=>t===e).length===0)&&this.redirectOptions.fullSite.httpHeaders.push(e)},addRows(e,s=!1){e.forEach(t=>this.addRow(t,s))},updateHeader(e,s,t){const i=JSON.parse(this.redirectOptions.fullSite.httpHeaders[t]);s=typeof s.value<"u"?s.value:s,s=typeof s=="object"&&s.length?s.map(r=>r.value):s,i[e]=s,e==="header"&&(i.value=""),this.$set(this.redirectOptions.fullSite.httpHeaders,t,JSON.stringify(i))},getHeaderValue(e,s,t=!1){let r=JSON.parse(this.redirectOptions.fullSite.httpHeaders[s])[e],o=null;if(t)return r;switch(e){case"location":r=this.locationOptions.find(a=>r===a.value),r||(r=this.locationOptions.find(a=>a.value==="site"));break;case"header":this.$constants.HTTP_RESPONSE_HEADERS.forEach(a=>{const _=a.options.find(q=>r===q.value);_&&(r=_)});break;case"value":o=this.getHeaderValue("header",s),r&&typeof o.options<"u"&&(typeof r=="object"?r=r.map(a=>o.options.find(_=>a===_.value)).filter(a=>!!a):r=o.options.find(a=>r===a.value));break}return r},getHeaderOptions(e){const s=this.getHeaderValue("header",e);return s&&typeof s.options<"u"?s.options:[]},getHeaderMultiple(e){const s=this.getHeaderValue("header",e);return s&&typeof s.multiple<"u"?s.multiple:!1},isHeaderValueCustom(e){return typeof this.getHeaderValue("value",e,!0)=="string"&&this.getHeaderValue("value",e,!0).match(/\[[a-zA-Z0-9_-]+\]/)},addSecurityPresets(){this.addRows([{location:"site",header:"X-Frame-Options",value:"deny"},{location:"site",header:"X-XSS-Protection",value:"1; mode=block"},{location:"site",header:"X-Content-Type-Options",value:"nosniff"},{location:"site",header:"Content-Security-Policy",value:"default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval' http:; style-src 'unsafe-inline' http:; img-src http: data:; font-src http: data:; sandbox allow-forms allow-scripts"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"}],!0)},addCorsPresets(){this.addRows([{location:"site",header:"Access-Control-Allow-Origin",value:"*"},{location:"site",header:"Access-Control-Allow-Credentials",value:"true"},{location:"site",header:"Access-Control-Allow-Methods",value:["GET","POST","OPTIONS"]},{location:"site",header:"Access-Control-Allow-Headers",value:"origin"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"},{location:"site",header:"P3P",value:'CP="CAO PSA OUR"'}],!0)}},mounted(){this.redirectOptions.fullSite.httpHeaders.length===0&&this.addRow()}},S={};var Ee=n(Me,Pe,De,!1,Ue,"84ba7460",null,null);function Ue(e){for(let s in S)this[s]=S[s]}const Ve=function(){return Ee.exports}();var Fe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aioseo-full-site-redirects"},[t("server-config-reload-warning"),t("relocate-site"),t("site-aliases"),t("canonical-settings"),t("http-headers")],1)},Ie=[];const ze={components:{RelocateSite:ve,SiteAliases:Ce,CanonicalSettings:Le,HttpHeaders:Ve,ServerConfigReloadWarning:V}},w={};var Ne=n(ze,Fe,Ie,!1,Ye,null,null,null);function Ye(e){for(let s in w)this[s]=w[s]}const je=function(){return Ne.exports}();var Be=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{staticClass:"aioseo-export-redirects",attrs:{slug:"exportRedirects",toggles:!1,"no-slide":"","header-text":e.strings.exportRedirects},scopedSlots:e._u([{key:"header-icon",fn:function(){return[t("svg-upload")]},proxy:!0}])},[t("div",{staticClass:"export-redirects aioseo-settings-row"},[t("div",{staticClass:"export-description"},[e._v(" "+e._s(e.strings.exportDescription)+" ")]),t("grid-row",[t("grid-column",{staticClass:"export-logs"},[t("base-checkbox",{attrs:{size:"medium"},model:{value:e.exportOptions.all,callback:function(i){e.$set(e.exportOptions,"all",i)},expression:"exportOptions.all"}},[e._v(" "+e._s(e.strings.allRedirects)+" ")])],1),e._l(e.$constants.REDIRECT_GROUPS,function(i,r){return t("grid-column",{key:r,attrs:{sm:"12"}},[e.exportOptions.all?e._e():t("base-checkbox",{attrs:{size:"medium"},model:{value:e.exportOptions[i.value],callback:function(o){e.$set(e.exportOptions,i.value,o)},expression:"exportOptions[group.value]"}},[e._v(" "+e._s(i.label)+" ")]),i.value!=="all"&&e.exportOptions.all?t("base-checkbox",{attrs:{size:"medium",value:!0,disabled:""}},[e._v(" "+e._s(i.label)+" ")]):e._e()],1)})],2),t("base-select",{attrs:{size:"medium",options:e.exportTypes},model:{value:e.exportType,callback:function(i){e.exportType=i},expression:"exportType"}}),t("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!e.canExport,loading:e.loading},on:{click:e.processExportRedirects}},[e._v(" "+e._s(e.strings.exportRedirects)+" ")])],1),t("div",{staticClass:"export-logs-wrapper"},[t("div",{staticClass:"export-logs"},[e._v(" "+e._s(e.strings.logs)+" ")]),e.options.logs.redirects.enabled&&e.options.main.method!=="server"?t("base-button",{attrs:{type:"gray",size:"medium",loading:e.exportingRedirectLogs},on:{click:function(i){return e.processExportLogs("redirect")}}},[e._v(" "+e._s(e.strings.exportRedirectLogs)+" ")]):e._e(),e.options.logs.log404.enabled?t("base-button",{attrs:{type:"gray",size:"medium",loading:e.exporting404Logs},on:{click:function(i){return e.processExportLogs("404")}}},[e._v(" "+e._s(e.strings.export404Logs)+" ")]):e._e()],1)])},Je=[];const We={components:{BaseCheckbox:oe,CoreCard:l,GridColumn:F,GridRow:I,SvgUpload:ae},data(){return{exportingRedirectLogs:!1,exporting404Logs:!1,exportOptions:{},postOptions:{},loading:!1,exportType:{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},exportTypes:[{label:this.$t.__("Complete Data (JSON)",this.$td),value:"json"},{label:this.$t.__("Apache Redirects (.htaccess)",this.$td),value:"htaccess"},{label:this.$t.__("Nginx Redirects (.nginx)",this.$td),value:"nginx"}],strings:{exportRedirects:this.$t.__("Export Redirects",this.$td),exportDescription:this.$t.__("Export to JSON, .htaccess or .nginx. The JSON format contains full information (and can be re-imported), while the other formats only contain partial information relavant to that format.",this.$td),allRedirects:this.$t.__("Export All Redirects",this.$td),logs:this.$t.__("Logs",this.$td),exportRedirectLogs:this.$t.__("Export Redirect Logs",this.$td),export404Logs:this.$t.__("Export 404 Logs",this.$td)}}},computed:{...u("redirects",["options"]),settings(){const e=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$td)},{value:"rssContent",label:this.$t.__("RSS Content",this.$td)},{value:"advanced",label:this.$t.__("Advanced",this.$td)},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$td)},{value:"social",label:this.$t.__("Social Networks",this.$td)},{value:"sitemap",label:this.$t.__("Sitemaps",this.$td)},{value:"tools",label:this.$t.__("Tools",this.$td)}];return this.$isPro&&e.push({value:"accessControl",label:this.$t.__("Access Control",this.$td)}),!this.isUnlicensed&&this.showImageSeoReset&&e.push({value:"image",label:this.$t.__("Image SEO",this.$td)}),!this.isUnlicensed&&this.showLocalBusinessReset&&e.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$td)}),!this.isUnlicensed&&this.showLinkAssistantReset&&e.push({value:"linkAssistant",label:this.$t.__("Link Assistant",this.$td)}),e},canExport(){const e=[];return Object.keys(this.exportOptions).forEach(s=>{e.push(this.exportOptions[s])}),Object.keys(this.postOptions).forEach(s=>{e.push(this.postOptions[s])}),e.some(s=>s)}},methods:{...d("redirects",["exportRedirects","exportLogs"]),processExportRedirects(){const e=[];this.exportOptions.all?this.$constants.REDIRECT_GROUPS.filter(t=>t.value!=="all").forEach(t=>{e.push(t.value)}):Object.keys(this.exportOptions).forEach(t=>{this.exportOptions[t]&&e.push(t)});const s=this.exportType.value;this.loading=!0,this.exportRedirects({groups:e,type:s}).then(t=>{let i=new Blob([t.body.redirects]);s==="json"&&(i=new Blob([JSON.stringify(t.body.redirects)],{type:"application/json"})),this.loading=!1,this.exportOptions={},this.postOptions={};const r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=`aioseo-export-redirects-${this.$moment().format("YYYY-MM-DD")}.${s}`,r.click(),URL.revokeObjectURL(r.href)})},processExportLogs(e){this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!0,this.exportLogs(e).then(s=>{this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!1;const t=new Blob([s.body.redirects]),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=`aioseo-export-redirects-log-${e}-${this.$moment().format("YYYY-MM-DD")}.log`,i.click(),URL.revokeObjectURL(i.href)})}}},O={};var qe=n(We,Be,Je,!1,Ge,null,null,null);function Ge(e){for(let s in O)this[s]=O[s]}const Ze=function(){return qe.exports}();var Ke=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{staticClass:"aioseo-redirects-import-aioseo",attrs:{slug:"importAioseoRedirects",toggles:!1,"no-slide":"","header-text":e.strings.importRestoreAioseoRedirects},scopedSlots:e._u([{key:"header-icon",fn:function(){return[t("svg-download")]},proxy:!0}])},[e.uploadError?t("core-alert",{staticClass:"import-error",attrs:{type:"red"}},[e._v(" "+e._s(e.uploadError)+" ")]):e._e(),e.uploadSuccess?t("core-alert",{staticClass:"import-error",attrs:{type:"green"}},[e._v(" "+e._s(e.strings.fileUploadedSuccessfully)+" ")]):e._e(),t("div",{staticClass:"file-upload"},[t("base-input",{class:{"aioseo-error":e.uploadError},attrs:{size:"medium",placeholder:e.strings.fileUploadPlaceholder},on:{focus:e.triggerFileUpload},model:{value:e.filename,callback:function(i){e.filename=i},expression:"filename"}}),t("base-button",{attrs:{type:"black",size:"medium"}},[e._v(" "+e._s(e.strings.chooseAFile)+" "),t("base-input",{ref:"file",attrs:{type:"file"},on:{click:e.reset,change:e.handleFileUpload},model:{value:e.inputFile,callback:function(i){e.inputFile=i},expression:"inputFile"}})],1)],1),t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.fileUploadDescription)+" ")]),t("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!e.file||!e.importValidated,loading:e.loading},on:{click:e.submitFile}},[e._v(" "+e._s(e.strings.import)+" ")])],1)},Xe=[];const Qe={components:{CoreAlert:p,CoreCard:l,SvgDownload:z},data(){return{inputFile:null,filename:null,file:null,uploadError:!1,uploadSuccess:!1,loading:!1,strings:{importRestoreAioseoRedirects:this.$t.sprintf(this.$t.__("Import Redirects from %1$s File",this.$td),"AIOSEO"),fileUploadPlaceholder:this.$t.__("Import from a JSON file...",this.$td),chooseAFile:this.$t.__("Choose a File",this.$td),fileUploadDescription:this.$t.__("Imported redirects will overwrite existing redirects and will not be merged.",this.$td),import:this.$t.__("Import",this.$td),jsonFileTypeRequired:this.$t.__("A JSON file is required to import redirects.",this.$td),fileUploadedSuccessfully:this.$t.__("Success! Your redirects have been imported.",this.$td),fileUploadFailed:this.$t.__("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",this.$td)}}},computed:{importValidated(){return!!(this.file.type==="application/json"||this.file.name.endsWith(".ini"))}},methods:{...d("redirects",["uploadFile"]),reset(){this.uploadError=!1,this.filename=null,this.file=null,this.inputFile=null},triggerFileUpload(){this.reset(),this.$refs.file.$el.querySelector("input").focus(),this.$refs.file.$el.querySelector("input").click()},submitFile(){this.loading=!0,this.uploadFile({file:this.file,filename:this.filename}).then(()=>{this.reset(),this.uploadSuccess=!0,this.loading=!1}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.fileUploadFailed})},handleFileUpload(){this.reset(),this.file=this.$refs.file.$el.querySelector("input").files[0],this.file&&(this.filename=this.file.name,this.file.type!=="application/json"&&(this.uploadError=this.strings.jsonFileTypeRequired))}}},C={};var et=n(Qe,Ke,Xe,!1,tt,null,null,null);function tt(e){for(let s in C)this[s]=C[s]}const st=function(){return et.exports}();var it=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{staticClass:"aioseo-redirects-import-others",attrs:{id:"aioseo-redirects-import-others",slug:"importOtherPluginsRedirects",toggles:!1,"no-slide":"","header-text":e.strings.importRedirectsFromOtherPlugins},scopedSlots:e._u([{key:"header-icon",fn:function(){return[t("svg-download")]},proxy:!0}])},[t("div",{staticClass:"aioseo-section-description"},[e._v(" "+e._s(e.strings.importOthersDescription)+" ")]),e.importSuccess?t("core-alert",{staticClass:"import-success",attrs:{type:"green"}},[e._v(" "+e._s(e.importSuccessful)+" ")]):e._e(),e.importError?t("core-alert",{staticClass:"import-error",attrs:{type:"red"}},[e._v(" "+e._s(e.importErrorMessage)+" ")]):e._e(),t("base-select",{attrs:{size:"medium",options:e.plugins,placeholder:e.strings.selectPlugin},scopedSlots:e._u([{key:"option",fn:function(i){var r=i.option;return[t("div",{staticClass:"import-plugin-label"},[t("span",{staticClass:"plugin-label"},[e._v(e._s(r.label))]),r.$isDisabled?t("span",{staticClass:"plugin-status"},[e._v(e._s(e.strings.notInstalled))]):e._e()])]}}]),model:{value:e.plugin,callback:function(i){e.plugin=i},expression:"plugin"}}),t("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!e.plugin,loading:e.loading},on:{click:e.processImportPlugin}},[e._v(" "+e._s(e.strings.import)+" ")])],1)},rt=[];const ot={components:{CoreAlert:p,CoreCard:l,SvgDownload:z},data(){return{importSuccess:!1,importError:!1,options:{},plugin:null,loading:!1,strings:{importRedirectsFromOtherPlugins:this.$t.__("Import Redirects From Other Plugins",this.$td),importOthersDescription:this.$t.sprintf(this.$t.__("Choose a plugin to import redirects directly into %1$s.",this.$td),"AIOSEO"),selectPlugin:this.$t.__("Select a plugin...",this.$td),import:this.$t.__("Import",this.$td),allRedirects:this.$t.__("All Redirects",this.$td),notInstalled:this.$t.__("not installed",this.$td)}}},watch:{plugin(){this.importSuccess=!1,this.importError=!1,this.options={}}},computed:{plugins(){const e=[];return this.$aioseo.redirects.importers.forEach(s=>{e.push({value:s.slug,label:s.name,canImport:s.canImport,version:s.version,$isDisabled:!s.installed})}),e},importSuccessful(){return this.$t.sprintf(this.$t.__("%1$s was successfully imported!",this.$td),this.plugin.label)},importErrorMessage(){return this.$t.sprintf(this.$t.__("An error occurred while importing %1$s. Please try again.",this.$td),this.plugin.label)}},methods:{...d("redirects",["importPlugins"]),processImportPlugin(){this.importSuccess=!1,this.importError=!1,this.loading=!0;const e=[];this.options.all?this.settings.filter(s=>s.value!=="all").forEach(s=>{e.push(s.value)}):Object.keys(this.options).forEach(s=>{this.options[s]&&e.push(s)}),this.importPlugins([{plugin:this.plugin.value,settings:e}]).then(()=>{this.loading=!1,this.importSuccess=!0,this.options={}}).catch(()=>{this.loading=!1,this.importError=!0,this.options={}})},invalidVersion(e){return this.$t.sprintf(this.$t.__("We do not support importing from the currently installed version of %1$s (%2$s). Please upgrade to the latest version and try again.",this.$td),e.label,e.version)}}},x={};var at=n(ot,it,rt,!1,nt,null,null,null);function nt(e){for(let s in x)this[s]=x[s]}const lt=function(){return at.exports}();var ct=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aioseo-redirects-import-export"},[t("grid-row",[t("grid-column",{attrs:{md:"6"}},[t("import-aioseo"),t("import-others")],1),t("grid-column",{attrs:{md:"6"}},[t("export-redirects")],1)],1)],1)},dt=[];const ut={components:{ExportRedirects:Ze,GridColumn:F,GridRow:I,ImportAioseo:st,ImportOthers:lt}},R={};var pt=n(ut,ct,dt,!1,ht,null,null,null);function ht(e){for(let s in R)this[s]=R[s]}const _t=function(){return pt.exports}(),W={mixins:[N],data(){return{activeRow:null,logUrls:[],deletingLog:!1,showDeleteModal:!1,shouldDeleteLog:null,wpTableKey:0,wpTableLoading:!1,strings:{lastIp:this.$t.__("Last IP",this.$td),headers:this.$t.__("Headers",this.$td),at:this.$t.__("at",this.$td),additionalInfo:this.$t.__("Additional Info",this.$td),delete:this.$t.__("Delete",this.$td),areYouSureDeleteLog:this.$t.__("Are you sure you want to delete this record?",this.$td),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$td),yesDeleteLog:this.$t.__("Yes, I want to delete this record",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td),url:this.$t.__("URL",this.$td),hits:this.$t.__("Hits",this.$td),lastAccessed:this.$t.__("Last Accessed",this.$td),referrers:this.$t.__("Referrers",this.$td)}}},computed:{...u("redirects",["filters","totals","options","sort","sortDir"])},methods:{...d("redirects",["filter","paginate","deleteLog"]),...f("redirects",["updateSort","updateSortDir"]),showInfo(e){this.activeRow=e},getHeaderInfo(e){const s=JSON.parse(e.request_data);return s.headers?s.headers:null}}};var gt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aioseo-redirects-logs"},[t("core-wp-table",{key:e.wpTableKey,attrs:{filters:[],totals:e.totals.logs,columns:e.columns,rows:e.logs,initialPageNumber:e.tableFields.logs.paginatedPage,initialSearchTerm:e.tableFields.logs.searchTerm,loading:e.wpTableLoading,"show-search":!1,"bulk-options":e.bulkOptions,showSearch:!0},on:{"process-bulk-action":e.processBulkAction,paginate:e.processPagination,"sort-column":e.processSort,search:e.processSearch},scopedSlots:e._u([{key:"last_accessed",fn:function(i){var r=i.column;return[e._v(" "+e._s(e.$moment.utc(r).tz(e.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+e._s(e.strings.at)+" "+e._s(e.$moment.utc(r).tz(e.$moment.tz.guess()).format("h:mm a"))+" ")]}},{key:"actions",fn:function(i){var r=i.index,o=i.row;return[t("div",{staticClass:"actions-wrapper"},[t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.additionalInfo)+" ")]},proxy:!0}],null,!0)},[t("svg-circle-information",{staticClass:"log-info",nativeOn:{click:function(a){return e.showInfo(o)}}})],1),t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.delete)+" ")]},proxy:!0}],null,!0)},[t("svg-trash",{staticClass:"remove-log",nativeOn:{click:function(a){return e.maybeDeleteLog(r)}}})],1)],1)]}}])}),e.showDeleteModal?t("core-modal",{attrs:{"no-header":""},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"aioseo-modal-body"},[t("button",{staticClass:"close",on:{click:function(i){i.stopPropagation(),e.showDeleteModal=!1}}},[t("svg-close",{on:{click:function(i){e.showDeleteModal=!1}}})],1),t("h3",[e._v(e._s(e.strings.areYouSureDeleteLog))]),t("div",{staticClass:"reset-description",domProps:{innerHTML:e._s(e.strings.actionCannotBeUndone)}}),t("base-button",{attrs:{type:"blue",size:"medium",loading:e.deletingLog},on:{click:e.processDeleteLog}},[e._v(" "+e._s(e.strings.yesDeleteLog)+" ")]),t("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(i){e.showDeleteModal=!1}}},[e._v(" "+e._s(e.strings.noChangedMind)+" ")])],1)]},proxy:!0}],null,!1,2323889100)}):e._e(),e.activeRow?t("core-modal",{on:{close:function(i){e.activeRow=null}},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[e._v(" "+e._s(e.strings.additionalInfo)+" ")]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"aioseo-modal-body info"},[t("div",[t("strong",[e._v(e._s(e.strings.url)+":")]),e._v(" "+e._s(e.activeRow.url)+" ")]),t("div",[t("strong",[e._v(e._s(e.strings.hits)+":")]),e._v(" "+e._s(e.activeRow.hits)+" ")]),t("div",[t("strong",[e._v(e._s(e.strings.lastAccessed)+":")]),e._v(" "+e._s(e.$moment.utc(e.activeRow.last_accessed).tz(e.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+e._s(e.strings.at)+" "+e._s(e.$moment.utc(e.activeRow.last_accessed).tz(e.$moment.tz.guess()).format("h:mm a"))+" ")]),e.activeRow.ip?t("div",[t("strong",[e._v(e._s(e.strings.lastIp)+":")]),e._v(" "),t("code",[e._v(e._s(e.activeRow.ip))])]):e._e(),e.activeRow.referrers.length?t("div",[t("strong",[e._v(e._s(e.strings.referrers)+":")]),t("table",{staticClass:"header-table",attrs:{"aria-label":"Logs"}},e._l(e.activeRow.referrers,function(i,r){return t("tr",{key:r},[t("td",[e._v(e._s(i))])])}),0)]):e._e(),e.getHeaderInfo(e.activeRow)?t("div",[t("strong",[e._v(e._s(e.strings.headers)+":")]),t("table",{staticClass:"header-table",attrs:{"aria-label":"Logs"}},e._l(e.getHeaderInfo(e.activeRow),function(i,r){return t("tr",{key:r},[t("td",[t("strong",[e._v(e._s(r)+":")])]),t("td",[e._v(e._s(i))])])}),0)]):e._e()])]},proxy:!0}],null,!1,420058337)}):e._e()],1)},mt=[];const ft={components:{CoreModal:Y,CoreTooltip:h,CoreWpTable:j,SvgClose:E,SvgCircleInformation:B,SvgTrash:g},mixins:[W],data(){return{slug:"logs",bulkOptions:[{label:this.$t.__("Delete",this.$td),value:"delete"}]}},watch:{logs:{deep:!0,handler(){this.wpTableKey+=1}}},computed:{...c("redirects",["logs"]),...u("redirects",["tableFields"]),columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.sort.logs==="url"?this.sortDir.logs:"asc",sorted:this.sort.logs==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.sort.logs==="hits"?this.sortDir.logs:"asc",sorted:this.sort.logs==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.sort.logs==="last_accessed"?this.sortDir.logs:"asc",sorted:this.sort.logs==="last_accessed"},{slug:"actions",label:"",width:"65px"}]}},methods:{...f("redirects",["setPaginatedPage"]),...d("redirects",["searchLogs"]),processBulkAction({action:e,selectedRows:s}){if(!!s.length){if(e==="delete")return this.wpTableLoading=!0,this.deleteLog(s).then(()=>{this.wpTableLoading=!1,this.processPagination(this.paginatedPage)});this.logUrls=s}},processPagination(e){if(this.setPaginatedPage({group:"logs",page:e}),this.wpTableLoading=!0,this.tableFields.logs.searchTerm)return this.processSearch(this.tableFields.logs.searchTerm,e);this.paginate({page:e,paginateLogs:!0,filter:{slug:"logs"}}).then(()=>{this.wpTableLoading=!1})},processSort(e,s){if(s.target.blur(),this.wpTableLoading=!0,this.updateSort({slug:"logs",column:e.slug}),this.updateSortDir({slug:"logs",dir:this.sort.logs!==e.slug?e.sortDir:e.sortDir==="asc"?"desc":"asc"}),this.tableFields.logs.searchTerm)return this.processSearch(this.tableFields.logs.searchTerm);this.paginate({page:1,paginateLogs:!0,filter:{slug:"logs"},sort:!0}).then(()=>{this.wpTableLoading=!1})},processSearch(e,s=1){this.setPaginatedPage({group:"logs",page:s}),this.wpTableLoading=!0,this.tableFields.logs.searchTerm=e,this.searchLogs({searchTerm:e,page:s}).then(()=>{this.wpTableLoading=!1})},maybeDeleteLog(e){const s=this.logs.find((t,i)=>i===e);s&&(this.showDeleteModal=!0,this.shouldDeleteLog=s.url)},processDeleteLog(){this.deletingLog=!0,this.wpTableLoading=!0,this.deleteLog([this.shouldDeleteLog]).then(()=>{this.wpTableLoading=!1,this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.processPagination(this.paginatedPage)})}}},k={};var vt=n(ft,gt,mt,!1,$t,null,null,null);function $t(e){for(let s in k)this[s]=k[s]}const bt=function(){return vt.exports}();var yt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aioseo-redirects-404-logs"},[t("transition-slide",{attrs:{active:e.showBulkAddRedirections}},[t("div",{staticClass:"add-bulk-redirects-wrapper"},[t("core-card",{attrs:{slug:"bulkAddNewRedirection","header-text":e.strings.addNewRedirections,toggles:!1,"no-slide":"",closes:""},on:{"close-card":function(i){e.showBulkAddRedirections=!1}}},[t("core-add-redirection",{key:e.redirect404UrlsKey,attrs:{log404:"",urls:e.get404RedirectUrls},on:{"added-redirect":e.addedRedirect}})],1)],1)]),t("core-wp-table",{key:e.wpTableKey,ref:"table",attrs:{filters:[],totals:e.totals.total404,columns:e.columns,rows:e.logs404,initialPageNumber:e.tableFields.logs404.paginatedPage,initialSearchTerm:e.tableFields.logs404.searchTerm,loading:e.wpTableLoading,"show-search":!1,"bulk-options":e.bulkOptions,showSearch:!0},on:{"process-bulk-action":e.processBulkAction,paginate:e.processPagination,"sort-column":e.processSort,search:e.processSearch},scopedSlots:e._u([{key:"last_accessed",fn:function(i){var r=i.column;return[e._v(" "+e._s(e.$moment.utc(r).tz(e.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+e._s(e.strings.at)+" "+e._s(e.$moment.utc(r).tz(e.$moment.tz.guess()).format("h:mm a"))+" ")]}},{key:"redirect",fn:function(i){var r=i.index,o=i.editRow;return[t("a",{staticClass:"add-redirect",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),o(r)}}},[t("svg-redirect"),e._v(e._s(e.strings.addRedirect)+" ")],1)]}},{key:"actions",fn:function(i){var r=i.index,o=i.row;return[t("div",{staticClass:"actions-404-wrapper"},[t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.additionalInfo)+" ")]},proxy:!0}],null,!0)},[t("svg-circle-information",{staticClass:"log-info",nativeOn:{click:function(a){return e.showInfo(o)}}})],1),t("core-tooltip",{attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.delete)+" ")]},proxy:!0}],null,!0)},[t("svg-trash",{staticClass:"remove-404",nativeOn:{click:function(a){return e.maybeDelete404(r)}}})],1)],1)]}},{key:"edit-row",fn:function(i){var r=i.row,o=i.editRow;return[t("core-add-redirection",{attrs:{log404:"",url:{id:r.id,url:r.url,errors:[],warnings:[]}},on:{"added-redirect":function(a){return e.processPagination(e.$refs.table.pageNumber)},cancel:function(a){return o(null)}}})]}}])}),e.showDeleteModal?t("core-modal",{attrs:{"no-header":""},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"aioseo-modal-body"},[t("button",{staticClass:"close",on:{click:function(i){i.stopPropagation(),e.showDeleteModal=!1}}},[t("svg-close",{on:{click:function(i){e.showDeleteModal=!1}}})],1),t("h3",[e._v(e._s(e.strings.areYouSureDeleteLog))]),t("div",{staticClass:"reset-description",domProps:{innerHTML:e._s(e.strings.actionCannotBeUndone)}}),t("base-button",{attrs:{type:"blue",size:"medium",loading:e.deletingLog},on:{click:e.processDelete404}},[e._v(" "+e._s(e.strings.yesDeleteLog)+" ")]),t("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(i){e.showDeleteModal=!1}}},[e._v(" "+e._s(e.strings.noChangedMind)+" ")])],1)]},proxy:!0}],null,!1,3796475992)}):e._e(),e.activeRow?t("core-modal",{on:{close:function(i){e.activeRow=null}},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[e._v(" "+e._s(e.strings.additionalInfo)+" ")]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"aioseo-modal-body info"},[t("div",[t("strong",[e._v(e._s(e.strings.url)+":")]),e._v(" "+e._s(e.activeRow.url)+" ")]),t("div",[t("strong",[e._v(e._s(e.strings.hits)+":")]),e._v(" "+e._s(e.activeRow.hits)+" ")]),t("div",[t("strong",[e._v(e._s(e.strings.lastAccessed)+":")]),e._v(" "+e._s(e.$moment.utc(e.activeRow.last_accessed).tz(e.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+e._s(e.strings.at)+" "+e._s(e.$moment.utc(e.activeRow.last_accessed).tz(e.$moment.tz.guess()).format("h:mm a"))+" ")]),e.activeRow.ip?t("div",[t("strong",[e._v(e._s(e.strings.lastIp)+":")]),e._v(" "),t("code",[e._v(e._s(e.activeRow.ip))])]):e._e(),e.activeRow.referrers.length?t("div",[t("strong",[e._v(e._s(e.strings.referrers)+":")]),t("table",{staticClass:"header-table",attrs:{"aria-label":"Logs"}},e._l(e.activeRow.referrers,function(i,r){return t("tr",{key:r},[t("td",[e._v(e._s(i))])])}),0)]):e._e(),e.getHeaderInfo(e.activeRow)?t("div",[t("strong",[e._v(e._s(e.strings.headers)+":")]),t("table",{staticClass:"header-table",attrs:{"aria-label":"404 Logs"}},e._l(e.getHeaderInfo(e.activeRow),function(i,r){return t("tr",{key:r},[t("td",[t("strong",[e._v(e._s(r)+":")])]),t("td",[e._v(e._s(i))])])}),0)]):e._e()])]},proxy:!0}],null,!1,33489905)}):e._e()],1)},St=[];const wt={components:{CoreAddRedirection:ie,CoreCard:l,CoreModal:Y,CoreTooltip:h,CoreWpTable:j,SvgClose:E,SvgCircleInformation:B,SvgRedirect:ne,SvgTrash:g,TransitionSlide:le},mixins:[W],data(){return{slug:"404",redirect404UrlsKey:1,showBulkAddRedirections:!1,bulkOptions:[{label:this.$t.__("Add Redirects",this.$td),value:"add-redirects"},{label:this.$t.__("Delete",this.$td),value:"delete"}],strings:{addRedirect:this.$t.__("Add Redirect",this.$td),addNewRedirections:this.$t.__("Add New Redirections",this.$td)}}},watch:{logs404:{deep:!0,handler(){this.wpTableKey+=1}}},computed:{...c("redirects",["logs404"]),...u("redirects",["tableFields"]),columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.sort.logs404==="url"?this.sortDir.logs404:"asc",sorted:this.sort.logs404==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.sort.logs404==="hits"?this.sortDir.logs404:"asc",sorted:this.sort.logs404==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.sort.logs404==="last_accessed"?this.sortDir.logs404:"asc",sorted:this.sort.logs404==="last_accessed"},{slug:"redirect",label:this.$t.__("Redirect",this.$td),width:"120px"},{slug:"actions",label:"",width:"65px"}]},get404RedirectUrls(){return this.logUrls.map(e=>({url:e,errors:[],warnings:[]}))}},methods:{...d("redirects",["delete404","search404Logs"]),...f("redirects",["setPaginatedPage"]),addedRedirect(){this.processPagination(this.$refs.table.pageNumber),this.showBulkAddRedirections=!1},processBulkAction({action:e,selectedRows:s}){if(!!s.length){if(e==="delete")return this.wpTableLoading=!0,this.delete404(s).then(()=>{this.wpTableLoading=!1,this.processPagination(this.$refs.table.pageNumber)});this.showBulkAddRedirections=!0,this.redirect404UrlsKey+=1,this.logUrls=s}},processPagination(e){if(this.setPaginatedPage({group:"logs404",page:e}),this.wpTableLoading=!0,this.tableFields.logs404.searchTerm)return this.processSearch(this.tableFields.logs404.searchTerm,e);this.paginate({page:e,paginate404:!0,filter:{slug:"404"}}).then(()=>{this.wpTableLoading=!1}),this.setPaginatedPage({group:"main",page:1}),this.paginate({page:1,filter:{slug:"all"}})},processSort(e,s){if(s.target.blur(),this.wpTableLoading=!0,this.updateSort({slug:"logs404",column:e.slug}),this.updateSortDir({slug:"logs404",dir:this.sort.logs404!==e.slug?e.sortDir:e.sortDir==="asc"?"desc":"asc"}),this.tableFields.logs404.searchTerm)return this.processSearch(this.tableFields.logs404.searchTerm);this.paginate({page:1,paginate404:!0,filter:{slug:"404"},sort:!0}).then(()=>{this.wpTableLoading=!1})},processSearch(e,s=1){this.setPaginatedPage({group:"logs404",page:s}),this.wpTableLoading=!0,this.tableFields.logs404.searchTerm=e,this.search404Logs({searchTerm:e,page:s}).then(()=>{this.wpTableLoading=!1})},maybeDelete404(e){const s=this.logs404.find((t,i)=>i===e);s&&(this.showDeleteModal=!0,this.shouldDeleteLog=s.url)},processDelete404(){this.deletingLog=!0,this.wpTableLoading=!0,this.delete404([this.shouldDeleteLog]).then(()=>{this.wpTableLoading=!1,this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.processPagination(this.$refs.table.pageNumber)})}}},T={};var Ot=n(wt,yt,St,!1,Ct,null,null,null);function Ct(e){for(let s in T)this[s]=T[s]}const xt=function(){return Ot.exports}();var Rt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{staticClass:"aioseo-globe",attrs:{viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28 4.6665C15.12 4.6665 4.66669 15.1198 4.66669 27.9998C4.66669 40.8798 15.12 51.3332 28 51.3332C40.88 51.3332 51.3334 40.8798 51.3334 27.9998C51.3334 15.1198 40.88 4.6665 28 4.6665ZM9.33335 27.9998C9.33335 26.5765 9.52002 25.1765 9.82335 23.8465L20.9767 34.9998V37.3331C20.9767 39.8998 23.0767 41.9998 25.6434 41.9998V46.5031C16.4734 45.3365 9.33335 37.4965 9.33335 27.9998ZM37.3103 37.3333C39.4103 37.3333 41.137 38.71 41.7437 40.6C44.777 37.2866 46.667 32.8533 46.667 28C46.667 20.1833 41.8137 13.4633 34.977 10.71V11.6666C34.977 14.2333 32.877 16.3333 30.3103 16.3333H25.6437V21C25.6437 22.2833 24.5937 23.3333 23.3103 23.3333H18.6437V28H32.6437C33.927 28 34.977 29.05 34.977 30.3333V37.3333H37.3103Z",fill:"currentColor"}})])},kt=[];const Tt={},H={};var Ht=n(Tt,Rt,kt,!1,Lt,null,null,null);function Lt(e){for(let s in H)this[s]=H[s]}const Pt=function(){return Ht.exports}();var Dt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{staticClass:"aioseo-home",attrs:{width:"54",height:"45",viewBox:"0 0 54 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M9.125 44.2148V24.2148H0.9375L27 0.839844L39.125 11.4648V4.71484H44.875V16.8398L53.0625 24.2148H44.875V44.2148H29.75V29.4648H24.25V44.2148H9.125ZM13.625 39.7148H19.75V24.9023H34.25V39.7148H40.375V18.9648L27 6.83984L13.625 18.9648V39.7148ZM19.75 24.9023H34.25H19.75ZM21.5 18.9023H32.5C32.5 17.444 31.9583 16.2357 30.875 15.2773C29.7917 14.319 28.5 13.8398 27 13.8398C25.5 13.8398 24.2083 14.319 23.125 15.2773C22.0417 16.2357 21.5 17.444 21.5 18.9023Z",fill:"#434960"}})])},At=[];const Mt={},L={};var Et=n(Mt,Dt,At,!1,Ut,null,null,null);function Ut(e){for(let s in L)this[s]=L[s]}const Vt=function(){return Et.exports}();var Ft=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{staticClass:"aioseo-controls",attrs:{width:"50",height:"48",viewBox:"0 0 50 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M21.3254 47.1523V32.2773H26.1154V37.4648H49.2782V42.0273H26.1154V47.1523H21.3254ZM0.721741 42.0273V37.4648H17.7821V42.0273H0.721741ZM12.9921 31.2148V26.0898H0.721741V21.5898H12.9921V16.3398H17.7821V31.2148H12.9921ZM21.3254 26.0898V21.5898H49.2782V26.0898H21.3254ZM32.2178 15.4023V0.527344H37.0078V5.65234H49.2782V10.2148H37.0078V15.4023H32.2178ZM0.721741 10.2148V5.65234H28.6745V10.2148H0.721741Z",fill:"#434960"}})])},It=[];const zt={},P={};var Nt=n(zt,Ft,It,!1,Yt,null,null,null);function Yt(e){for(let s in P)this[s]=P[s]}const jt=function(){return Nt.exports}();var Bt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-card",{attrs:{slug:"404Settings",toggles:e.redirectOptions.advanced404s.enabled,disabled:!e.redirectOptions.advanced404s.enabled},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-toggle",{model:{value:e.redirectOptions.advanced404s.enabled,callback:function(i){e.$set(e.redirectOptions.advanced404s,"enabled",i)},expression:"redirectOptions.advanced404s.enabled"}}),t("span",[e._v(e._s(e.strings.advanced404s))])]},proxy:!0},{key:"disabled",fn:function(){return[e._v(" "+e._s(e.strings.descriptionClosed)+" ")]},proxy:!0}])},[t("core-settings-row",{staticClass:"redirects-defaults default-404",attrs:{name:e.strings.default404},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"enable"},[t("base-toggle",{model:{value:e.redirectOptions.advanced404s.redirectDefaultEnabled,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectDefaultEnabled",i)},expression:"redirectOptions.advanced404s.redirectDefaultEnabled"}},[e._v(" "+e._s(e.strings.descriptionDefault404)+" ")])],1),e.redirectOptions.advanced404s.redirectDefaultEnabled?t("div",[t("div",{staticClass:"option"},[t("base-box-toggle",{attrs:{name:"redirect404Default",options:[{value:"home",slot:"home"},{value:"custom",slot:"custom"}]},scopedSlots:e._u([{key:"home",fn:function(){return[t("svg-home"),t("p",[e._v(e._s(e.strings.home))])]},proxy:!0},{key:"custom",fn:function(){return[t("svg-controls"),t("p",[e._v(e._s(e.strings.custom))])]},proxy:!0}],null,!1,823197810),model:{value:e.redirectOptions.advanced404s.redirectDefault,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectDefault",i)},expression:"redirectOptions.advanced404s.redirectDefault"}}),e.redirectOptions.advanced404s.redirectDefault==="home"?t("div",{staticClass:"aioseo-description background"},[e._v(" "+e._s(e.strings.redirectingToHome)+" ")]):e._e(),e.redirectOptions.advanced404s.redirectDefault==="custom"?t("div",{staticClass:"aioseo-description background"},[e._v(" "+e._s(e.strings.redirectingToCustom)+" "),t("base-input",{model:{value:e.redirectOptions.advanced404s.redirectToCustomUrl,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectToCustomUrl",i)},expression:"redirectOptions.advanced404s.redirectToCustomUrl"}}),e._v(" "+e._s(e.strings.redirectingToCustomDescription)+" ")],1):e._e()],1)]):e._e(),t("core-alert",{attrs:{type:"yellow"},domProps:{innerHTML:e._s(e.strings.descriptionClosed)}})]},proxy:!0}])}),t("core-settings-row",{staticClass:"redirects-defaults",attrs:{name:e.strings.advanced404},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"option"},[t("base-toggle",{model:{value:e.redirectOptions.advanced404s.redirectToSmart,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectToSmart",i)},expression:"redirectOptions.advanced404s.redirectToSmart"}},[e._v(" "+e._s(e.strings.redirectToSmart)+" ")]),e.redirectOptions.advanced404s.redirectToSmart?t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.redirectingToSmart)+" ")]):e._e()],1),t("div",{staticClass:"option",class:{disabled:!e.has404ParentRedirect}},[e.has404ParentRedirect?t("base-toggle",{model:{value:e.redirectOptions.advanced404s.redirectToParent,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectToParent",i)},expression:"redirectOptions.advanced404s.redirectToParent"}},[e._v(" "+e._s(e.strings.redirectToParent)+" ")]):e._e(),e.has404ParentRedirect?e._e():t("base-toggle",{attrs:{value:!1,disabled:!0}},[e._v(" "+e._s(e.strings.redirectToParent)+" ")]),e.has404ParentRedirect&&e.redirectOptions.advanced404s.redirectToParent?t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.redirectingToParent)+" ")]):e._e(),e.has404ParentRedirect?e._e():t("core-alert",{attrs:{type:"yellow"},domProps:{innerHTML:e._s(e.strings.redirectingToParentUpgrade)}})],1),e.has404ParentRedirect&&e.redirectOptions.advanced404s.redirectToParent?t("div",{staticClass:"option",class:{disabled:!e.has404ParentRedirect}},[t("base-toggle",{model:{value:e.redirectOptions.advanced404s.redirectToParentWoocommerce,callback:function(i){e.$set(e.redirectOptions.advanced404s,"redirectToParentWoocommerce",i)},expression:"redirectOptions.advanced404s.redirectToParentWoocommerce"}},[e._v(" "+e._s(e.strings.redirectToParentWoocommerce)+" ")]),e.redirectOptions.advanced404s.redirectToParentWoocommerce?t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.redirectingToParentWoocommerce)+" ")]):e._e()],1):e._e()]},proxy:!0}])})],1)},Jt=[];const Wt={components:{CoreAlert:p,CoreSettingsRow:m,BaseToggle:Q,BaseInput:ee,CoreCard:l,SvgHome:Vt,SvgControls:jt,BaseBoxToggle:J},data(){return{strings:{advanced404s:this.$t.__("Advanced 404 Settings",this.$td),descriptionClosed:this.$t.__("Our advanced 404 settings are not for everyone. While a 404 page may not seem like the best user experience, redirecting all your 404's may confuse your users who are looking for specific content. Instead it's always better to redirect content to real pages. If you're not sure what to do, just leave these settings off.",this.$td),default404:this.$t.__("Default 404 Redirect",this.$td),descriptionDefault404:this.$t.__("Enable default 404 redirect",this.$td),home:this.$t.__("Home Page",this.$td),custom:this.$t.__("Custom URL",this.$td),advanced404:this.$t.__("Advanced 404 Settings",this.$td),redirectToHome:this.$t.__("Redirect 404's to the Home Page",this.$td),redirectToParent:this.$t.__("Redirect 404's to the Parent Page or Parent Category",this.$td),redirectingToHome:this.$t.__("Your 404's will now be redirected to the Home Page. We'll still keep track of them in the 404 Logs.",this.$td),redirectingToParent:this.$t.__("Your 404's will now be redirected to their parent page or post. We'll still keep track of them in the 404 Logs.",this.$td),redirectToParentWoocommerce:this.$t.__("WooCommerce Support",this.$td),redirectingToParentWoocommerce:this.$t.__("Products and Product Categories will redirect to the shop page.",this.$td),redirectingToParentUpgrade:this.$t.sprintf(this.$t.__("Advanced 404 Management is not available for your current plan. %1$s",this.$td),this.$links.getUpsellLink("redirects",this.$constants.GLOBAL_STRINGS.learnMore,"404-settings",!0)),redirectingToCustom:this.$t.__("Your 404's will now be redirected to the Custom URL below.",this.$td),redirectingToCustomDescription:this.$t.__("The Custom URL can be a Relative or Full URL.",this.$td),redirectToSmart:this.$t.__("Smart Slug Redirect",this.$td),redirectingToSmart:this.$t.__("Your 404's will now be redirected by the URL slug.",this.$td)}}},computed:{...c("redirects",["redirectOptions"]),has404ParentRedirect(){return this.$license.hasAddonFeature("aioseo-redirects","404-parent-redirect")}}},D={};var qt=n(Wt,Bt,Jt,!1,Gt,"5cae4d47",null,null);function Gt(e){for(let s in D)this[s]=D[s]}const Zt=function(){return qt.exports}();var Kt=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"aioseo-redirects-settings"},[t("server-config-reload-warning"),t("core-card",{attrs:{slug:"redirectSettings","header-text":e.strings.redirectSettings}},[t("core-settings-row",{attrs:{name:e.strings.redirectMethod},scopedSlots:e._u([{key:"content",fn:function(){return[t("base-box-toggle",{attrs:{name:"breadcrumbsType",options:[{value:"php",slot:"php"},{value:"server",slot:"server"}]},scopedSlots:e._u([{key:"php",fn:function(){return[t("svg-php"),t("p",[e._v(e._s(e.strings.php))])]},proxy:!0},{key:"server",fn:function(){return[t("svg-globe"),t("p",[e._v(e._s(e.strings.webServer))])]},proxy:!0}]),model:{value:e.redirectOptions.main.method,callback:function(i){e.$set(e.redirectOptions.main,"method",i)},expression:"redirectOptions.main.method"}}),e.redirectOptions.main.method==="server"?t("div",{staticClass:"web-server-settings"},[e.detectedServer?e._e():t("core-alert",{staticClass:"detected-web-server unknown",attrs:{type:"red"},domProps:{innerHTML:e._s(e.strings.unknownServer)}}),e.detectedServer?[t("core-alert",{staticClass:"detected-web-server",attrs:{type:"blue"}},[e._v(" "+e._s(e.serverDetected)+" ")]),e.redirectServerTest.failed===!0?t("core-alert",{staticClass:"missing-include",attrs:{type:"yellow"},domProps:{innerHTML:e._s(e.missingInclude)}}):e._e()]:e._e(),t("base-button",{attrs:{type:"gray",size:"medium",loading:e.nginxLoading},on:{click:function(i){return e.exportRedirects("nginx")}}},[e._v(" "+e._s(e.strings.exportNginxConfigFile)+" ")]),t("base-button",{attrs:{type:"gray",size:"medium",loading:e.apacheLoading},on:{click:function(i){return e.exportRedirects("apache")}}},[e._v(" "+e._s(e.strings.exportHtaccessFile)+" ")])],2):e._e()]},proxy:!0}])}),t("core-settings-row",{staticClass:"redirects-logs",attrs:{name:e.strings.logs},scopedSlots:e._u([{key:"content",fn:function(){return[t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.logs.log404.enabled,callback:function(i){e.$set(e.redirectOptions.logs.log404,"enabled",i)},expression:"redirectOptions.logs.log404.enabled"}},[e._v(" "+e._s(e.strings.logs404)+" ")])],1),t("table-column",[t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.logs.log404.length),size:"small",options:e.lengthOptions,disabled:!e.redirectOptions.logs.log404.enabled},on:{input:function(i){return e.redirectOptions.logs.log404.length=e.setJsonValue(i)}}})],1)],1),e.redirectOptions.main.method==="php"?t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.logs.redirects.enabled,callback:function(i){e.$set(e.redirectOptions.logs.redirects,"enabled",i)},expression:"redirectOptions.logs.redirects.enabled"}},[e._v(" "+e._s(e.strings.redirectLogs)+" ")])],1),t("table-column",[t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.logs.redirects.length),size:"small",options:e.lengthOptions,disabled:!e.redirectOptions.logs.redirects.enabled},on:{input:function(i){return e.redirectOptions.logs.redirects.length=e.setJsonValue(i)}}})],1)],1):e._e(),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"?t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.logs.external,callback:function(i){e.$set(e.redirectOptions.logs,"external",i)},expression:"redirectOptions.logs.external"}},[e._v(" "+e._s(e.strings.logExternal)+" "),t("core-tooltip",{scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.logExternalDescription)+" ")]},proxy:!0}],null,!1,3501289874)},[t("svg-circle-question-mark")],1)],1)],1)],1):e._e(),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"||e.redirectOptions.logs.log404.enabled?t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.logs.httpHeader,callback:function(i){e.$set(e.redirectOptions.logs,"httpHeader",i)},expression:"redirectOptions.logs.httpHeader"}},[e._v(" "+e._s(e.strings.logHttpHeader)+" "),t("core-tooltip",{scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.logHeaderInformationDescription)+" ")]},proxy:!0}],null,!1,2011477852)},[t("svg-circle-question-mark")],1)],1)],1)],1):e._e()]},proxy:!0}])}),e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"||e.redirectOptions.logs.log404.enabled?t("core-settings-row",{staticClass:"redirects-ip-logging",attrs:{name:e.strings.ipLogging,align:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.logs.ipAddress.enabled,callback:function(i){e.$set(e.redirectOptions.logs.ipAddress,"enabled",i)},expression:"redirectOptions.logs.ipAddress.enabled"}},[e._v(" "+e._s(e.strings.logIpAddresses)+" ")])],1),t("table-column",[t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.logs.ipAddress.level),size:"small",options:e.ipLoggingOptions,disabled:!e.redirectOptions.logs.ipAddress.enabled},on:{input:function(i){return e.redirectOptions.logs.ipAddress.level=e.setJsonValue(i)}}})],1)],1),t("table-row",[t("table-column",[t("div",{staticClass:"aioseo-description",domProps:{innerHTML:e._s(e.strings.ipLoggingDescription)}})])],1)]},proxy:!0}],null,!1,507341610)}):e._e(),e.redirectOptions.main.method==="php"?[e.redirectOptions.logs.redirects.enabled&&e.redirectOptions.main.method==="php"?t("core-settings-row",{staticClass:"redirects-cache",attrs:{name:e.strings.httpCacheHeader,align:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("table-row",[t("table-column",[t("base-toggle",{model:{value:e.redirectOptions.cache.httpHeader.enabled,callback:function(i){e.$set(e.redirectOptions.cache.httpHeader,"enabled",i)},expression:"redirectOptions.cache.httpHeader.enabled"}},[e._v(" "+e._s(e.strings.cacheRedirects)+" ")])],1),t("table-column",[t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.cache.httpHeader.length),size:"small",options:e.lengthOptions,disabled:!e.redirectOptions.cache.httpHeader.enabled},on:{input:function(i){return e.redirectOptions.cache.httpHeader.length=e.setJsonValue(i)}}})],1)],1)]},proxy:!0}],null,!1,3372802612)}):e._e()]:e._e(),t("core-settings-row",{staticClass:"redirects-monitor",attrs:{name:e.strings.monitorChanges},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(" "+e._s(e.strings.monitorChanges)+" "),t("core-tooltip",{scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.strings.monitorChangesTooltip)+" ")]},proxy:!0}])},[t("svg-circle-question-mark")],1)]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"option"},[t("base-toggle",{attrs:{size:"medium"},model:{value:e.redirectOptions.monitor.postTypes.all,callback:function(i){e.$set(e.redirectOptions.monitor.postTypes,"all",i)},expression:"redirectOptions.monitor.postTypes.all"}},[e._v(" "+e._s(e.strings.includeAllPostTypes)+" ")])],1),e.redirectOptions.monitor.postTypes.all?e._e():t("core-post-type-options",{attrs:{options:e.redirectOptions.monitor,type:"postTypes",excluded:["attachment"]}}),t("div",{staticClass:"option"},[t("base-toggle",{attrs:{size:"medium"},model:{value:e.redirectOptions.monitor.trash,callback:function(i){e.$set(e.redirectOptions.monitor,"trash",i)},expression:"redirectOptions.monitor.trash"}},[e._v(" "+e._s(e.strings.monitorTrash)+" ")])],1)]},proxy:!0}])}),t("core-settings-row",{staticClass:"redirects-defaults",attrs:{name:e.strings.redirectDefaults},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"option"},[t("base-toggle",{model:{value:e.redirectOptions.redirectDefaults.ignoreSlash,callback:function(i){e.$set(e.redirectOptions.redirectDefaults,"ignoreSlash",i)},expression:"redirectOptions.redirectDefaults.ignoreSlash"}},[e._v(" "+e._s(e.strings.ignoreSlash)+" ")])],1),t("div",{staticClass:"option"},[t("base-toggle",{model:{value:e.redirectOptions.redirectDefaults.ignoreCase,callback:function(i){e.$set(e.redirectOptions.redirectDefaults,"ignoreCase",i)},expression:"redirectOptions.redirectDefaults.ignoreCase"}},[e._v(" "+e._s(e.strings.ignoreCase)+" ")])],1),t("div",{staticClass:"option"},[t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.redirectType)+" ")]),t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.redirectDefaults.redirectType),size:"medium",options:e.$constants.REDIRECT_TYPES},on:{input:function(i){return e.redirectOptions.redirectDefaults.redirectType=e.setJsonValue(i)}}})],1),t("div",{staticClass:"option"},[t("div",{staticClass:"aioseo-description"},[e._v(" "+e._s(e.strings.queryParams)+" ")]),t("base-select",{attrs:{value:e.getJsonValue(e.redirectOptions.redirectDefaults.queryParam),size:"medium",options:e.$constants.REDIRECT_QUERY_PARAMS},on:{input:function(i){return e.redirectOptions.redirectDefaults.queryParam=e.setJsonValue(i)}}})],1)]},proxy:!0}])})],2),t("advanced-404s")],1)},Xt=[];const Qt={components:{BaseBoxToggle:J,CoreAlert:p,CoreCard:l,CorePostTypeOptions:de,CoreSettingsRow:m,CoreTooltip:h,ServerConfigReloadWarning:V,SvgCircleQuestionMark:te,SvgGlobe:Pt,SvgPhp:ce,TableColumn:ue,TableRow:pe,BaseSelect:se,Advanced404s:Zt},mixins:[N],data(){return{saving:!1,nginxLoading:!1,apacheLoading:!1,strings:{redirectSettings:this.$t.__("Redirect Settings",this.$td),redirectMethod:this.$t.__("Redirect Method",this.$td),unknownServer:this.$t.sprintf(this.$t.__("We cannot detect your web server. Server redirects are disabled. %1$s",this.$td),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectUnknownWebserver",!0)),php:this.$t.__("PHP",this.$td),webServer:this.$t.__("Web Server",this.$td),logs:this.$t.__("Logs",this.$td),ipLogging:this.$t.__("IP Logging",this.$td),httpCacheHeader:this.$t.__("HTTP Cache Header",this.$td),redirectDefaults:this.$t.__("Redirect Defaults",this.$td),logs404:this.$t.__("404 Logs",this.$td),redirectLogs:this.$t.__("Redirect Logs",this.$td),logExternal:this.$t.__("Log External Redirects",this.$td),logHttpHeader:this.$t.__("Log HTTP Header Information",this.$td),enableRedirectCache:this.$t.__("Enable Redirect Cache",this.$td),ignoreCase:this.$t.__("Ignore Case",this.$td),ignoreSlash:this.$t.__("Ignore Slash",this.$td),cacheRedirects:this.$t.__("Cache Redirects",this.$td),objectCache:this.$t.__("Object Cache",this.$td),ipLoggingDescription:this.$t.sprintf(this.$t.__("%1$sGDPR / Privacy information%2$s",this.$td),'<a target="_blank" href="'+this.$links.getDocUrl("redirectGdpr")+'">',"</a>"),logIpAddresses:this.$t.__("Log IP Addresses",this.$td),redirectType:this.$t.__("Redirect Type",this.$td),queryParams:this.$t.__("Query Parameters",this.$td),logExternalDescription:this.$t.sprintf(this.$t.__("Log redirects that happen on your site even if the redirect happened outside of %1$s",this.$td),"AIOSEO"),logHeaderInformationDescription:this.$t.__("Capture HTTP header information with the logs (except for cookies).",this.$td),exportNginxConfigFile:this.$t.sprintf(this.$t.__("Export %1$s config file",this.$td),"NGINX"),exportHtaccessFile:this.$t.sprintf(this.$t.__("Export %1$s file",this.$td),".htaccess"),autoWriteHtaccess:this.$t.sprintf(this.$t.__("Auto-write to %1$s",this.$td),".htaccess"),monitorChanges:this.$t.__("Automatic Redirects",this.$td),includeAllPostTypes:this.$t.__("Include All Post Types",this.$td),monitorTrash:this.$t.__("Monitor Trash",this.$td),monitorChangesTooltip:this.$t.__('This allows you to monitor changes to post types and automatically add redirects based on URL changes. These will show up with a group called "Modified Posts".',this.$td)},lengthOptions:[{label:this.$t.__("1 hour",this.$td),value:"hour"},{label:this.$t.__("1 day",this.$td),value:"day"},{label:this.$t.__("1 week",this.$td),value:"week"},{label:this.$t.__("Forever",this.$td),value:"forever"}],ipLoggingOptions:[{label:this.$t.__("Full Logging",this.$td),value:"full"},{label:this.$t.__("Anonymize IP",this.$td),value:"anonymous"}]}},computed:{...c("redirects",["redirectOptions","redirectServerTest"]),serverDetected(){return this.$t.sprintf(this.$t.__("%1$s Server has been detected.",this.$td),this.detectedServer)},detectedServer(){return this.$aioseo.data.server.apache?"Apache":this.$aioseo.data.server.nginx?"NGINX":null},missingInclude(){const e=this.$aioseo.data.server.apache?"Include ":"include ",s=this.$aioseo.data.server.nginx?";":"",t="<br><code>"+e+this.$aioseo.redirects.path+s+"</code>";return this.$t.sprintf(this.$t.__("Make sure you include the following in your server configuration file: %1$s",this.$td),t)}},methods:{...d("redirects",["exportServerRedirects"]),exportRedirects(e){this[e+"Loading"]=!0,this.exportServerRedirects(e).then(s=>{this[e+"Loading"]=!1;const t=e==="apache"?"htaccess":e,i=new Blob([s.body.redirects]),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=`aioseo-export-redirects-${this.$moment().format("YYYY-MM-DD")}.${t}`,r.click(),URL.revokeObjectURL(r.href)})}}},A={};var es=n(Qt,Kt,Xt,!1,ts,null,null,null);function ts(e){for(let s in A)this[s]=A[s]}const ss=function(){return es.exports}();var is=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("core-main",{attrs:{"page-name":e.strings.pageName,"show-save-button":e.showSaveButton,"exclude-tabs":e.excludeTabs}},[t(e.$route.name,{tag:"component"})],1)},rs=[];const os={components:{CoreMain:K,FullSiteRedirect:je,ImportExport:_t,Logs:bt,Logs404:xt,Redirects:re,Settings:ss},mixins:[G,Z],data(){return{strings:{pageName:this.$t.__("Redirects",this.$td)}}},computed:{...u("redirects",["options"]),showSaveButton(){return this.$route.name!=="redirects"&&this.$route.name!=="groups"&&this.$route.name!=="logs-404"&&this.$route.name!=="logs"&&this.$route.name!=="import-export"},excludeTabs(){const e=this.$addons.isActive("aioseo-redirects")?this.getExcludedUpdateTabs("aioseo-redirects"):this.getExcludedActivationTabs("aioseo-redirects");return this.options.logs.log404.enabled||e.push("logs-404"),(!this.options.logs.redirects.enabled||this.options.main.method==="server")&&e.push("logs"),e}}},M={};var as=n(os,is,rs,!1,ns,null,null,null);function ns(e){for(let s in M)this[s]=M[s]}const ui=function(){return as.exports}();export{ui as default};
