var W=Object.defineProperty,J=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var R=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&R(e,r,t[r]);if(A)for(var r of A(t))X.call(t,r)&&R(e,r,t[r]);return e},g=(e,t)=>J(e,Y(t));import{b as Q,d as m,a as E,c as ee}from"./index.6b238922.js";import{C as te,T as re,B as ne,A as oe,L as se}from"./Redirects.c8ab0f4c.js";import{g as ie}from"./params.bea1a08d.js";import{A as ae}from"./ToolsSettings.d33ae322.js";import"./context.04ada340.js";import{J as ce}from"./JsonValues.08065e69.js";import{n as h}from"./vueComponentNormalizer.87056a83.js";import{C as de}from"./Card.56d6b098.js";import{C as L}from"./Index.021930ae.js";import{C as ue}from"./Index.7868e16c.js";var le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.redirectServerTest.failed&&e.redirectOptions.main.method==="server"?r("core-alert",{attrs:{size:"small",type:"yellow"}},[r("div",{domProps:{innerHTML:e._s(e.strings.nginxReload)}}),r("div",{domProps:{innerHTML:e._s(e.strings.dontKnow)}}),r("base-button",{attrs:{type:"blue",size:"small",loading:e.redirectServerTest.testing},on:{click:function(o){return e.testServerRedirects()}}},[e._v(" "+e._s(e.strings.checkAgain)+" ")])],1):e._e()},fe=[];const pe={components:{CoreAlert:L},data(){return{strings:{nginxReload:this.$t.sprintf("Your redirect settings have been updated. In order for them to work properly you may need to reload your %1$s configuration. %2$s",this.detectedServer(),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectServerConfigReload",!0)),dontKnow:"If you don't know how to do that please revert your Redirect Method to PHP.",checkAgain:"Check Again"}}},computed:i({},Q("redirects",["redirectOptions","redirectServerTest"])),methods:g(i({},m("redirects",["testServerRedirects"])),{maybeTest(){this.testServerRedirects()},detectedServer(){return this.$aioseo.data.server.apache?"Apache":this.$aioseo.data.server.nginx?"NGINX":"Server"}}),mounted(){this.maybeTest(),this.$bus.$on("changes-saved",this.maybeTest)},beforeDestroy(){this.$bus.$off("changes-saved",this.maybeTest)}},S={};var he=h(pe,le,fe,!1,_e,"76b3408a",null,null);function _e(e){for(let t in S)this[t]=S[t]}var ge=function(){return he.exports}();const M="3.7.2",me=M,ve=typeof atob=="function",ye=typeof btoa=="function",d=typeof Buffer=="function",$=typeof TextDecoder=="function"?new TextDecoder:void 0,C=typeof TextEncoder=="function"?new TextEncoder:void 0,xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(xe),f=(e=>{let t={};return e.forEach((r,o)=>t[r]=o),t})(u),be=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,n=String.fromCharCode.bind(String),U=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),P=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),D=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),I=e=>{let t,r,o,a,s="";const _=e.length%3;for(let l=0;l<e.length;){if((r=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=r<<16|o<<8|a,s+=u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[t&63]}return _?s.slice(0,_-3)+"===".substring(_):s},x=ye?e=>btoa(e):d?e=>Buffer.from(e,"binary").toString("base64"):I,v=d?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let o=0,a=e.length;o<a;o+=4096)r.push(n.apply(null,e.subarray(o,o+4096)));return x(r.join(""))},p=(e,t=!1)=>t?P(v(e)):v(e),Ae=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?n(192|t>>>6)+n(128|t&63):n(224|t>>>12&15)+n(128|t>>>6&63)+n(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return n(240|t>>>18&7)+n(128|t>>>12&63)+n(128|t>>>6&63)+n(128|t&63)}},Re=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,O=e=>e.replace(Re,Ae),w=d?e=>Buffer.from(e,"utf8").toString("base64"):C?e=>v(C.encode(e)):e=>x(O(e)),c=(e,t=!1)=>t?P(w(e)):w(e),B=e=>c(e,!0),Se=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$e=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return n((r>>>10)+55296)+n((r&1023)+56320);case 3:return n((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return n((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},q=e=>e.replace(Se,$e),z=e=>{if(e=e.replace(/\s+/g,""),!be.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",o,a;for(let s=0;s<e.length;)t=f[e.charAt(s++)]<<18|f[e.charAt(s++)]<<12|(o=f[e.charAt(s++)])<<6|(a=f[e.charAt(s++)]),r+=o===64?n(t>>16&255):a===64?n(t>>16&255,t>>8&255):n(t>>16&255,t>>8&255,t&255);return r},b=ve?e=>atob(D(e)):d?e=>Buffer.from(e,"base64").toString("binary"):z,N=d?e=>U(Buffer.from(e,"base64")):e=>U(b(e),t=>t.charCodeAt(0)),V=e=>N(j(e)),Ce=d?e=>Buffer.from(e,"base64").toString("utf8"):$?e=>$.decode(N(e)):e=>q(b(e)),j=e=>D(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),y=e=>Ce(j(e)),Ue=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Z=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),H=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,Z(r));e("fromBase64",function(){return y(this)}),e("toBase64",function(t){return c(this,t)}),e("toBase64URI",function(){return c(this,!0)}),e("toBase64URL",function(){return c(this,!0)}),e("toUint8Array",function(){return V(this)})},G=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,Z(r));e("toBase64",function(t){return p(this,t)}),e("toBase64URI",function(){return p(this,!0)}),e("toBase64URL",function(){return p(this,!0)})},we=()=>{H(),G()},Be={version:M,VERSION:me,atob:b,atobPolyfill:z,btoa:x,btoaPolyfill:I,fromBase64:y,toBase64:c,encode:c,encodeURI:B,encodeURL:B,utob:O,btou:q,decode:y,isValid:Ue,fromUint8Array:p,toUint8Array:V,extendString:H,extendUint8Array:G,extendBuiltins:we};var Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"aioseo-redirects"},[r("server-config-reload-warning"),r("core-card",{attrs:{slug:"addNewRedirection","header-text":e.strings.addNewRedirection}},[r("core-add-redirection",{attrs:{urls:e.getUrls,target:e.getTarget}})],1),r("Table")],1)},ke=[];const Fe={components:{CoreAddRedirection:te,CoreCard:de,ServerConfigReloadWarning:ge,Table:re},mixins:[ce],data(){return{queryUrls:[],strings:{addNewRedirection:"Add New Redirection"}}},computed:{getTarget(){return this.queryUrls.length?"/":""},getUrls(){if(this.queryUrls.length)return this.queryUrls;const e=ie();if(e["aioseo-add-urls"]===void 0)return[];let t="";try{t=JSON.parse(Be.decode(decodeURIComponent(e["aioseo-add-urls"])))}catch{}return t.forEach(r=>{this.queryUrls.push({id:r.id,url:decodeURIComponent(r.url),regex:!1,ignoreSlash:this.slash||!1,ignoreCase:this.case||!1,errors:[],warnings:[]})}),this.queryUrls}}},T={};var Ee=h(Fe,Te,ke,!1,Le,null,null,null);function Le(e){for(let t in T)this[t]=T[t]}var Me=function(){return Ee.exports}(),Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"aioseo-redirects":!0,"core-card":!e.noCoreCard}},[r("blur"),r("cta",{attrs:{"cta-button-visible":e.$addons.userCanUpdate("aioseo-redirects"),"cta-button-visible-warning":e.strings.permissionWarning,"cta-link":e.$aioseo.urls.aio.featureManager+"&aioseo-activate=aioseo-redirects","cta-button-action":"","cta-button-loading":e.activationLoading,"same-tab":"","button-text":e.strings.ctaButtonText,"learn-more-link":e.$links.getDocUrl("redirects"),"feature-list":[e.strings.serverRedirects,e.strings.automaticRedirects,e.strings.redirectMonitoring,e.strings.monitoring404,e.strings.fullSiteRedirects,e.strings.siteAliases]},on:{"cta-button-click":e.upgradeAddon},scopedSlots:e._u([{key:"header-text",fn:function(){return[e._v(" "+e._s(e.strings.ctaHeader)+" ")]},proxy:!0},{key:"description",fn:function(){return[r("core-alert",{attrs:{type:"yellow"}},[e._v(" "+e._s(e.strings.updateRequired)+" ")]),e.failed?r("core-alert",{attrs:{type:"red"}},[e._v(" "+e._s(e.strings.activateError)+" ")]):e._e(),e._v(" "+e._s(e.strings.ctaDescription)+" ")]},proxy:!0},{key:"learn-more-text",fn:function(){return[e._v(" "+e._s(e.strings.learnMoreText)+" ")]},proxy:!0}])})],1)},De=[];const Ie={components:{Blur:ne,CoreAlert:L,Cta:ue},data(){return{strings:{ctaButtonText:"Update Redirects",ctaHeader:"Enable Redirects on your Site",serverRedirects:"Fast Server Redirects",automaticRedirects:"Automatic Redirects",redirectMonitoring:"Redirect Monitoring",monitoring404:"404 Monitoring",fullSiteRedirects:"Full Site Redirects",siteAliases:"Site Aliases",ctaDescription:"Our Redirection Manager allows you to easily create and manage redirects for your broken links to avoid confusing search engines and users, as well as losing valuable backlinks. It even automatically sends users and search engines from your old URLs to your new ones.",permissionWarning:"You currently don't have permission to activate this addon. Please ask a site administrator to activate first.",activateError:"An error occurred while activating the addon. Please upload it manually or contact support for more information.",updateRequired:this.$t.sprintf("This addon requires an update. %1$s %2$s requires a minimum version of %3$s for the %4$s addon. You currently have %5$s installed.","AIOSEO","Pro",this.$addons.getAddon("aioseo-redirects").minimumVersion,"Redirects",this.$addons.getAddon("aioseo-redirects").installedVersion)},failed:!1,activationLoading:!1}},computed:i({},E("redirects",["filters","totals","options"])),methods:g(i(i(i({},m("redirects",["filter","getRedirectOptions"])),m(["upgradePlugins"])),ee(["updateAddon"])),{upgradeAddon(){this.failed=!1,this.activationLoading=!0;const e=this.$addons.getAddon("aioseo-redirects");this.upgradePlugins([{plugin:e.sku}]).then(t=>{if(t.body.failed.length){this.activationLoading=!1,this.failed=!0;return}const r=[this.filter({slug:"all"}),this.filter({slug:"logs"}),this.filter({slug:"404"}),this.getRedirectOptions()];Promise.all(r).then(()=>{const o=t.body.completed[e.sku];this.activationLoading=!1,e.hasMinimumVersion=!0,e.isActive=!0,e.installedVersion=o.installedVersion,this.updateAddon(e)})}).catch(()=>{this.activationLoading=!1})}})},k={};var Oe=h(Ie,Pe,De,!1,qe,null,null,null);function qe(e){for(let t in k)this[t]=k[t]}var ze=function(){return Oe.exports}(),Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"aioseo-redirects-main"},[e.shouldShowMain?r("redirects"):e._e(),e.shouldShowActivate?r("activate"):e._e(),e.shouldShowUpdate?r("update"):e._e(),e.shouldShowLite?r("lite"):e._e()],1)},Ve=[];const je={mixins:[ae],components:{Activate:oe,Lite:se,Redirects:Me,Update:ze},data(){return{addonSlug:"aioseo-redirects"}},computed:i({},E(["options","settings"]))},F={};var Ze=h(je,Ne,Ve,!1,He,null,null,null);function He(e){for(let t in F)this[t]=F[t]}var Ge=function(){return Ze.exports}(),st=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ge});export{Ge as R,ge as S,st as a};
